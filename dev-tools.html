<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¼€å‘è€…å·¥å…·ç®± | DevTools - JSON/å¯†ç /Hashå·¥å…·</title>
    <meta name="description" content="å…è´¹å¼€å‘è€…å·¥å…·ç®±ï¼šJSONæ ¼å¼åŒ–ã€å¯†ç ç”Ÿæˆã€Base64ç¼–ç ã€Hashè®¡ç®—ã€URLç¼–ç ç­‰">
    <meta name="keywords" content="å¼€å‘è€…å·¥å…·,JSONæ ¼å¼åŒ–,å¯†ç ç”Ÿæˆ,Base64,Hash,URLç¼–ç ,å¼€å‘å·¥å…·">
    <meta property="og:title" content="å¼€å‘è€…å·¥å…·ç®± - å…è´¹åœ¨çº¿å¼€å‘å·¥å…·">
    <meta property="og:description" content="JSONã€å¯†ç ç”Ÿæˆã€Base64ã€Hashç­‰å¼€å‘è€…å¸¸ç”¨å·¥å…·">
    <link rel="canonical" href="./dev-tools.html">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #f5f5f5;
            --card-bg: #ffffff;
            --text: #333333;
            --text-secondary: #666666;
            --primary: #2563eb;
            --primary-hover: #1d4ed8;
            --border: #e5e5e5;
            --success: #22c55e;
            --error: #ef4444;
            --shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .dark {
            --bg: #1a1a1a;
            --card-bg: #2a2a2a;
            --text: #e5e5e5;
            --text-secondary: #a3a3a3;
            --border: #404040;
            --shadow: 0 1px 3px rgba(0,0,0,0.3);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
        }

        .header {
            background: var(--card-bg);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }

        .theme-toggle {
            background: none;
            border: 1px solid var(--border);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            color: var(--text);
            font-size: 0.9rem;
        }

        .main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .tool-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: var(--shadow);
        }

        .tool-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            border-color: var(--primary);
        }

        .tool-card.active {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(37,99,235,0.1) 0%, transparent 100%);
        }

        .tool-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .tool-name {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
        }

        .tool-desc {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .tool-panel {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            display: none;
            box-shadow: var(--shadow);
        }

        .tool-panel.active {
            display: block;
        }

        .tool-panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .tool-panel-title {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .btn {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-hover);
        }

        .btn-secondary {
            background: var(--bg);
            color: var(--text);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--border);
        }

        textarea, input[type="text"], input[type="number"] {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: var(--bg);
            color: var(--text);
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9rem;
            resize: vertical;
        }

        textarea {
            min-height: 200px;
        }

        .input-group {
            margin-bottom: 1rem;
        }

        .input-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .output-area {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            min-height: 100px;
            font-family: monospace;
            white-space: pre-wrap;
            word-break: break-all;
        }

        .result-success {
            color: var(--success);
        }

        .result-error {
            color: var(--error);
        }

        .row {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .col {
            flex: 1;
            min-width: 200px;
        }

        .color-preview {
            width: 100%;
            height: 60px;
            border-radius: 8px;
            border: 1px solid var(--border);
            margin-top: 0.5rem;
        }

        .timestamp-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .timestamp-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            background: var(--bg);
            border-radius: 6px;
        }

        .copy-btn {
            padding: 0.25rem 0.5rem;
            font-size: 0.8rem;
        }

        @media (max-width: 768px) {
            .main {
                padding: 1rem;
            }
            .header {
                padding: 1rem;
            }
        }
    </style>
    <style>
    .sponsor-section {
        background: rgba(255,255,255,0.05);
        border-radius: 12px;
        padding: 20px;
        margin: 20px;
        text-align: center;
    }
    .sponsor-title { color: #fff; font-size: 1.1rem; margin-bottom: 8px; }
    .sponsor-desc { color: rgba(255,255,255,0.6); font-size: 0.85rem; margin-bottom: 12px; }
    .sponsor-buttons { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
    .sponsor-btn {
        padding: 8px 16px;
        border-radius: 6px;
        text-decoration: none;
        font-size: 0.85rem;
        font-weight: 600;
    }
    .alipay { background: #1677ff; color: #fff; }
    .wechat { background: #07c160; color: #fff; }
    .paypal { background: #003087; color: #fff; }
    .crypto-section { margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); }
    .crypto-title { color: rgba(255,255,255,0.8); font-size: 0.85rem; margin-bottom: 10px; }
    .crypto-address { background: rgba(0,0,0,0.3); padding: 6px 10px; border-radius: 4px; margin: 4px 0; cursor: pointer; font-family: monospace; font-size: 0.7rem; display: flex; align-items: center; gap: 6px; }
    .crypto-address:hover { background: rgba(0,0,0,0.5); }
    .crypto-label { color: #f7931a; font-weight: bold; }
    .crypto-value { color: rgba(255,255,255,0.7); word-break: break-all; }
    .copy-hint { color: rgba(255,255,255,0.4); font-size: 0.6rem; white-space: nowrap; }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="#" class="logo" onclick="showHome()">âš¡ DevTools</a>
            <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ™ æš—é»‘æ¨¡å¼</button>
        </div>
    </header>

    <main class="main">
        <div class="tools-grid" id="toolsGrid">
            <!-- Tool Cards -->
            <div class="tool-card" onclick="openTool('json')">
                <div class="tool-icon">ğŸ“„</div>
                <div class="tool-name">JSON æ ¼å¼åŒ–</div>
                <div class="tool-desc">æ ¼å¼åŒ–ã€å‹ç¼©ã€æ ¡éªŒ JSON</div>
            </div>
            <div class="tool-card" onclick="openTool('base64')">
                <div class="tool-icon">ğŸ”¤</div>
                <div class="tool-name">Base64 ç¼–è§£ç </div>
                <div class="tool-desc">Base64 ç¼–ç å’Œè§£ç </div>
            </div>
            <div class="tool-card" onclick="openTool('url')">
                <div class="tool-icon">ğŸ”—</div>
                <div class="tool-name">URL ç¼–ç </div>
                <div class="tool-desc">URL ç¼–ç å’Œè§£ç </div>
            </div>
            <div class="tool-card" onclick="openTool('color')">
                <div class="tool-icon">ğŸ¨</div>
                <div class="tool-name">é¢œè‰²è½¬æ¢</div>
                <div class="tool-desc">HEXã€RGBã€HSL äº’è½¬</div>
            </div>
            <div class="tool-card" onclick="openTool('timestamp')">
                <div class="tool-icon">â°</div>
                <div class="tool-name">æ—¶é—´æˆ³</div>
                <div class="tool-desc">Unix æ—¶é—´æˆ³è½¬æ¢</div>
            </div>
            <div class="tool-card" onclick="openTool('regex')">
                <div class="tool-icon">ğŸ”</div>
                <div class="tool-name">æ­£åˆ™æµ‹è¯•</div>
                <div class="tool-desc">æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•å·¥å…·</div>
            </div>
            <div class="tool-card" onclick="openTool('hash')">
                <div class="tool-icon">ğŸ”</div>
                <div class="tool-name">Hash ç”Ÿæˆ</div>
                <div class="tool-desc">MD5ã€SHAã€SHA256</div>
            </div>
            <div class="tool-card" onclick="openTool('markdown')">
                <div class="tool-icon">ğŸ“</div>
                <div class="tool-name">Markdown é¢„è§ˆ</div>
                <div class="tool-desc">å®æ—¶ Markdown é¢„è§ˆ</div>
            </div>
            <div class="tool-card" onclick="openTool('jwt')">
                <div class="tool-icon">ğŸ«</div>
                <div class="tool-name">JWT è§£ç å™¨</div>
                <div class="tool-desc">è§£æ JWT Token</div>
            </div>
            <div class="tool-card" onclick="openTool('cron')">
                <div class="tool-icon">â°</div>
                <div class="tool-name">Cron è¡¨è¾¾å¼</div>
                <div class="tool-desc">ç”Ÿæˆå’Œè§£æ Cron</div>
            </div>
            <div class="tool-card" onclick="openTool('xml')">
                <div class="tool-icon">ğŸ“‹</div>
                <div class="tool-name">XML æ ¼å¼åŒ–</div>
                <div class="tool-desc">XML æ ¼å¼åŒ–ä¸å‹ç¼©</div>
            </div>
            <div class="tool-card" onclick="openTool('diff')">
                <div class="tool-icon">ğŸ“‘</div>
                <div class="tool-name">æ–‡æœ¬å·®å¼‚</div>
                <div class="tool-desc">å¯¹æ¯”ä¸¤æ®µæ–‡æœ¬å·®å¼‚</div>
            </div>
            <div class="tool-card" onclick="openTool('qrcode')">
                <div class="tool-icon">â¬›</div>
                <div class="tool-name">äºŒç»´ç ç”Ÿæˆ</div>
                <div class="tool-desc">æ–‡æœ¬ç”ŸæˆäºŒç»´ç å›¾ç‰‡</div>
            </div>
            <div class="tool-card" onclick="openTool('uuid')">
                <div class="tool-icon">ğŸ”‘</div>
                <div class="tool-name">UUID ç”Ÿæˆ</div>
                <div class="tool-desc">ç”Ÿæˆå”¯ä¸€æ ‡è¯†ç¬¦ UUID</div>
            </div>
            <div class="tool-card" onclick="openTool('html')">
                <div class="tool-icon">ğŸ·ï¸</div>
                <div class="tool-name">HTML è½¬ä¹‰</div>
                <div class="tool-desc">HTML å®ä½“ç¼–ç ä¸è§£ç </div>
            </div>
            <div class="tool-card" onclick="openTool('sql')">
                <div class="tool-icon">ğŸ—„ï¸</div>
                <div class="tool-name">SQL æ ¼å¼åŒ–</div>
                <div class="tool-desc">SQL è¯­å¥ç¾åŒ–ä¸å‹ç¼©</div>
            </div>
        </div>

        <!-- JSON Tool -->
        <div class="tool-panel" id="panel-json">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">ğŸ“„ JSON æ ¼å¼åŒ–</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="input-group">
                <label class="input-label">è¾“å…¥ JSON</label>
                <textarea id="json-input" placeholder="ç²˜è´´ JSON..."></textarea>
            </div>
            <div class="row" style="margin-bottom: 1rem;">
                <button class="btn btn-primary" onclick="formatJson()">æ ¼å¼åŒ–</button>
                <button class="btn btn-secondary" onclick="compressJson()">å‹ç¼©</button>
                <button class="btn btn-secondary" onclick="validateJson()">æ ¡éªŒ</button>
            </div>
            <div class="input-group">
                <label class="input-label">ç»“æœ</label>
                <div class="output-area" id="json-output"></div>
            </div>
            <button class="btn btn-secondary copy-btn" onclick="copyToClipboard('json-output')">å¤åˆ¶</button>
        </div>

        <!-- Base64 Tool -->
        <div class="tool-panel" id="panel-base64">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">ğŸ”¤ Base64 ç¼–è§£ç </h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="input-group">
                <label class="input-label">è¾“å…¥æ–‡æœ¬</label>
                <textarea id="base64-input" placeholder="è¾“å…¥æ–‡æœ¬..."></textarea>
            </div>
            <div class="row" style="margin-bottom: 1rem;">
                <button class="btn btn-primary" onclick="encodeBase64()">ç¼–ç </button>
                <button class="btn btn-secondary" onclick="decodeBase64()">è§£ç </button>
            </div>
            <div class="input-group">
                <label class="input-label">ç»“æœ</label>
                <div class="output-area" id="base64-output"></div>
            </div>
            <button class="btn btn-secondary copy-btn" onclick="copyToClipboard('base64-output')">å¤åˆ¶</button>
        </div>

        <!-- URL Tool -->
        <div class="tool-panel" id="panel-url">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">ğŸ”— URL ç¼–ç </h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="input-group">
                <label class="input-label">è¾“å…¥ URL</label>
                <textarea id="url-input" placeholder="è¾“å…¥ URL..."></textarea>
            </div>
            <div class="row" style="margin-bottom: 1rem;">
                <button class="btn btn-primary" onclick="encodeUrl()">ç¼–ç </button>
                <button class="btn btn-secondary" onclick="decodeUrl()">è§£ç </button>
            </div>
            <div class="input-group">
                <label class="input-label">ç»“æœ</label>
                <div class="output-area" id="url-output"></div>
            </div>
            <button class="btn btn-secondary copy-btn" onclick="copyToClipboard('url-output')">å¤åˆ¶</button>
        </div>

        <!-- Color Tool -->
        <div class="tool-panel" id="panel-color">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">ğŸ¨ é¢œè‰²è½¬æ¢</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="row">
                <div class="col">
                    <div class="input-group">
                        <label class="input-label">HEX</label>
                        <input type="text" id="color-hex" placeholder="#2563eb" oninput="convertColor('hex')">
                    </div>
                </div>
                <div class="col">
                    <div class="input-group">
                        <label class="input-label">RGB</label>
                        <input type="text" id="color-rgb" placeholder="rgb(37, 99, 235)" oninput="convertColor('rgb')">
                    </div>
                </div>
                <div class="col">
                    <div class="input-group">
                        <label class="input-label">HSL</label>
                        <input type="text" id="color-hsl" placeholder="hsl(217, 91%, 60%)" oninput="convertColor('hsl')">
                    </div>
                </div>
            </div>
            <div class="color-preview" id="color-preview"></div>
        </div>

        <!-- Timestamp Tool -->
        <div class="tool-panel" id="panel-timestamp">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">â° æ—¶é—´æˆ³</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="input-group">
                <label class="input-label">å½“å‰æ—¶é—´æˆ³ (ç§’)</label>
                <input type="number" id="timestamp-seconds" oninput="convertTimestamp('seconds')">
            </div>
            <div class="input-group">
                <label class="input-label">å½“å‰æ—¶é—´æˆ³ (æ¯«ç§’)</label>
                <input type="number" id="timestamp-ms" oninput="convertTimestamp('ms')">
            </div>
            <div class="input-group">
                <label class="input-label">æ—¥æœŸæ—¶é—´</label>
                <input type="text" id="timestamp-date" oninput="convertTimestamp('date')">
            </div>
            <div class="timestamp-list" id="timestamp-list"></div>
        </div>

        <!-- Regex Tool -->
        <div class="tool-panel" id="panel-regex">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">ğŸ” æ­£åˆ™æµ‹è¯•</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="input-group">
                <label class="input-label">æ­£åˆ™è¡¨è¾¾å¼</label>
                <input type="text" id="regex-pattern" placeholder="ä¾‹å¦‚: \d+">
            </div>
            <div class="input-group">
                <label class="input-label">æµ‹è¯•æ–‡æœ¬</label>
                <textarea id="regex-test" placeholder="è¾“å…¥æµ‹è¯•æ–‡æœ¬..."></textarea>
            </div>
            <button class="btn btn-primary" onclick="testRegex()" style="margin-bottom: 1rem;">æµ‹è¯•</button>
            <div class="input-group">
                <label class="input-label">åŒ¹é…ç»“æœ</label>
                <div class="output-area" id="regex-output"></div>
            </div>
        </div>

        <!-- Hash Tool -->
        <div class="tool-panel" id="panel-hash">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">ğŸ” Hash ç”Ÿæˆ</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="input-group">
                <label class="input-label">è¾“å…¥æ–‡æœ¬</label>
                <textarea id="hash-input" placeholder="è¾“å…¥æ–‡æœ¬..."></textarea>
            </div>
            <div class="row" style="margin-bottom: 1rem;">
                <button class="btn btn-primary" onclick="generateHash('md5')">MD5</button>
                <button class="btn btn-secondary" onclick="generateHash('sha1')">SHA-1</button>
                <button class="btn btn-secondary" onclick="generateHash('sha256')">SHA-256</button>
            </div>
            <div class="input-group">
                <label class="input-label">ç»“æœ</label>
                <div class="output-area" id="hash-output"></div>
            </div>
            <button class="btn btn-secondary copy-btn" onclick="copyToClipboard('hash-output')">å¤åˆ¶</button>
        </div>

        <!-- Markdown Tool -->
        <div class="tool-panel" id="panel-markdown">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">ğŸ“ Markdown é¢„è§ˆ</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="row">
                <div class="col">
                    <div class="input-group">
                        <label class="input-label">è¾“å…¥ Markdown</label>
                        <textarea id="markdown-input" placeholder="# æ ‡é¢˜&#10;&#10;è¾“å…¥ Markdown..." oninput="previewMarkdown()"></textarea>
                    </div>
                </div>
                <div class="col">
                    <div class="input-group">
                        <label class="input-label">é¢„è§ˆ</label>
                        <div class="output-area" id="markdown-output" style="min-height: 300px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- JWT Tool -->
        <div class="tool-panel" id="panel-jwt">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">ğŸ« JWT è§£ç å™¨</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="row">
                <div class="col">
                    <div class="input-group">
                        <label class="input-label">è¾“å…¥ JWT Token</label>
                        <textarea id="jwt-input" placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c" oninput="decodeJwt()"></textarea>
                    </div>
                </div>
                <div class="col">
                    <div class="input-group">
                        <label class="input-label">è§£ç ç»“æœ</label>
                        <div class="output-area" id="jwt-output" style="min-height: 300px; white-space: pre-wrap;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cron Tool -->
        <div class="tool-panel" id="panel-cron">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">â° Cron è¡¨è¾¾å¼ç”Ÿæˆå™¨</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="input-group" style="margin-bottom: 1rem;">
                <label class="input-label">é€‰æ‹©æ‰§è¡Œé¢‘ç‡</label>
                <select id="cron-preset" onchange="applyCronPreset()" style="width: 100%; padding: 0.75rem; border-radius: 6px; border: 1px solid var(--border); background: var(--card-bg); color: var(--text);">
                    <option value="">-- é€‰æ‹©é¢„è®¾ --</option>
                    <option value="* * * * *">æ¯åˆ†é’Ÿ</option>
                    <option value="0 * * * *">æ¯å°æ—¶</option>
                    <option value="0 0 * * *">æ¯å¤©åˆå¤œ</option>
                    <option value="0 0 * * 0">æ¯å‘¨æ—¥</option>
                    <option value="0 0 1 * *">æ¯æœˆ1æ—¥</option>
                    <option value="0 0 1 1 *">æ¯å¹´1æœˆ1æ—¥</option>
                </select>
            </div>
            <div class="row" style="grid-template-columns: repeat(5, 1fr); gap: 0.5rem; margin-bottom: 1rem;">
                <div class="input-group">
                    <label class="input-label">åˆ†é’Ÿ (0-59)</label>
                    <input type="text" id="cron-min" placeholder="*" oninput="buildCron()">
                </div>
                <div class="input-group">
                    <label class="input-label">å°æ—¶ (0-23)</label>
                    <input type="text" id="cron-hour" placeholder="*" oninput="buildCron()">
                </div>
                <div class="input-group">
                    <label class="input-label">æ—¥æœŸ (1-31)</label>
                    <input type="text" id="cron-dom" placeholder="*" oninput="buildCron()">
                </div>
                <div class="input-group">
                    <label class="input-label">æœˆä»½ (1-12)</label>
                    <input type="text" id="cron-month" placeholder="*" oninput="buildCron()">
                </div>
                <div class="input-group">
                    <label class="input-label">æ˜ŸæœŸ (0-6)</label>
                    <input type="text" id="cron-dow" placeholder="*" oninput="buildCron()">
                </div>
            </div>
            <div class="input-group" style="margin-bottom: 1rem;">
                <label class="input-label">Cron è¡¨è¾¾å¼</label>
                <div class="output-area" id="cron-result" style="font-family: monospace; font-size: 1.2rem;"></div>
            </div>
            <div class="input-group">
                <label class="input-label">è§£é‡Š</label>
                <div class="output-area" id="cron-desc" style="white-space: pre-wrap;"></div>
            </div>
        </div>

        <!-- XML Tool -->
        <div class="tool-panel" id="panel-xml">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">ğŸ“‹ XML æ ¼å¼åŒ–</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="toolbar" style="margin-bottom: 1rem;">
                <button class="btn btn-primary" onclick="formatXml()">æ ¼å¼åŒ–</button>
                <button class="btn btn-secondary" onclick="compressXml()">å‹ç¼©</button>
                <button class="btn btn-secondary" onclick="validateXml()">éªŒè¯</button>
            </div>
            <div class="row">
                <div class="col">
                    <div class="input-group">
                        <label class="input-label">è¾“å…¥ XML</label>
                        <textarea id="xml-input" placeholder="<?xml version='1.0'?>&#10;<root><item>Hello</item></root>"></textarea>
                    </div>
                </div>
                <div class="col">
                    <div class="input-group">
                        <label class="input-label">è¾“å‡º</label>
                        <div class="output-area" id="xml-output" style="min-height: 300px; white-space: pre-wrap;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Diff Tool -->
        <div class="tool-panel" id="panel-diff">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">ğŸ“‘ æ–‡æœ¬å·®å¼‚æ¯”è¾ƒ</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="row">
                <div class="col">
                    <div class="input-group">
                        <label class="input-label">åŸå§‹æ–‡æœ¬</label>
                        <textarea id="diff-original" placeholder="è¾“å…¥åŸå§‹æ–‡æœ¬..."></textarea>
                    </div>
                </div>
                <div class="col">
                    <div class="input-group">
                        <label class="input-label">ä¿®æ”¹åæ–‡æœ¬</label>
                        <textarea id="diff-modified" placeholder="è¾“å…¥ä¿®æ”¹åæ–‡æœ¬..."></textarea>
                    </div>
                </div>
            </div>
            <button class="btn btn-primary" onclick="compareDiff()" style="margin: 1rem 0;">æ¯”è¾ƒå·®å¼‚</button>
            <div class="input-group">
                <label class="input-label">å·®å¼‚ç»“æœ (çº¢è‰²=åˆ é™¤, ç»¿è‰²=æ–°å¢)</label>
                <div class="output-area" id="diff-output" style="min-height: 200px; white-space: pre-wrap; line-height: 1.8;"></div>
            </div>
        </div>

        <!-- QR Code Tool -->
        <div class="tool-panel" id="panel-qrcode">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">â¬› äºŒç»´ç ç”Ÿæˆ</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="input-group">
                <label class="input-label">è¾“å…¥æ–‡æœ¬æˆ– URL</label>
                <textarea id="qrcode-input" placeholder="è¾“å…¥æ–‡æœ¬ã€URL æˆ–ä»»æ„å†…å®¹..." oninput="generateQRCode()"></textarea>
            </div>
            <div class="input-group">
                <label class="input-label">ç”Ÿæˆçš„äºŒç»´ç </label>
                <div style="background: white; padding: 1rem; border-radius: 8px; display: inline-block;">
                    <canvas id="qrcode-canvas"></canvas>
                </div>
            </div>
            <button class="btn btn-primary" onclick="downloadQRCode()">ä¸‹è½½äºŒç»´ç </button>
        </div>

        <!-- UUID Tool -->
        <div class="tool-panel" id="panel-uuid">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">ğŸ”‘ UUID ç”Ÿæˆå™¨</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="input-group">
                <label class="input-label">ç”Ÿæˆæ•°é‡</label>
                <input type="number" id="uuid-count" value="1" min="1" max="100" style="width: 100px;">
            </div>
            <button class="btn btn-primary" onclick="generateUUIDs()" style="margin-bottom: 1rem;">ç”Ÿæˆ UUID</button>
            <div class="input-group">
                <label class="input-label">ç”Ÿæˆçš„ UUID</label>
                <div class="output-area" id="uuid-output" style="min-height: 100px;"></div>
            </div>
            <button class="btn btn-secondary copy-btn" onclick="copyToClipboard('uuid-output')">å¤åˆ¶å…¨éƒ¨</button>
        </div>

        <!-- HTML Escape Tool -->
        <div class="tool-panel" id="panel-html">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">ğŸ·ï¸ HTML è½¬ä¹‰</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="input-group">
                <label class="input-label">è¾“å…¥ HTML</label>
                <textarea id="html-input" placeholder="è¾“å…¥ HTML å†…å®¹..."></textarea>
            </div>
            <div class="row" style="margin-bottom: 1rem;">
                <button class="btn btn-primary" onclick="escapeHtml()">ç¼–ç </button>
                <button class="btn btn-secondary" onclick="unescapeHtml()">è§£ç </button>
            </div>
            <div class="input-group">
                <label class="input-label">ç»“æœ</label>
                <div class="output-area" id="html-output"></div>
            </div>
            <button class="btn btn-secondary copy-btn" onclick="copyToClipboard('html-output')">å¤åˆ¶</button>
        </div>

        <!-- SQL Formatter Tool -->
        <div class="tool-panel" id="panel-sql">
            <div class="tool-panel-header">
                <h2 class="tool-panel-title">ğŸ—„ï¸ SQL æ ¼å¼åŒ–</h2>
                <button class="btn btn-secondary" onclick="showHome()">â† è¿”å›</button>
            </div>
            <div class="input-group">
                <label class="input-label">è¾“å…¥ SQL</label>
                <textarea id="sql-input" placeholder="ç²˜è´´ SQL è¯­å¥..."></textarea>
            </div>
            <div class="row" style="margin-bottom: 1rem;">
                <button class="btn btn-primary" onclick="formatSql()">æ ¼å¼åŒ–</button>
                <button class="btn btn-secondary" onclick="compressSql()">å‹ç¼©</button>
            </div>
            <div class="input-group">
                <label class="input-label">ç»“æœ</label>
                <div class="output-area" id="sql-output"></div>
            </div>
            <button class="btn btn-secondary copy-btn" onclick="copyToClipboard('sql-output')">å¤åˆ¶</button>
        </div>
    </main>

    <script>
        // Theme
        function toggleTheme() {
            document.body.classList.toggle('dark');
            const btn = document.querySelector('.theme-toggle');
            btn.textContent = document.body.classList.contains('dark') ? 'â˜€ï¸ äº®è‰²æ¨¡å¼' : 'ğŸŒ™ æš—é»‘æ¨¡å¼';
            localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
        }

        if (localStorage.getItem('theme') === 'dark') {
            document.body.classList.add('dark');
            document.querySelector('.theme-toggle').textContent = 'â˜€ï¸ äº®è‰²æ¨¡å¼';
        }

        // Navigation
        function showHome() {
            document.getElementById('toolsGrid').style.display = 'grid';
            document.querySelectorAll('.tool-panel').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.tool-card').forEach(c => c.classList.remove('active'));
        }

        function openTool(tool) {
            document.getElementById('toolsGrid').style.display = 'none';
            document.querySelectorAll('.tool-panel').forEach(p => p.classList.remove('active'));
            document.getElementById('panel-' + tool).classList.add('active');
        }

        // Copy
        async function copyToClipboard(id) {
            const text = document.getElementById(id).textContent;
            await navigator.clipboard.writeText(text);
            alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
        }

        // JSON
        function formatJson() {
            try {
                const input = document.getElementById('json-input').value;
                const obj = JSON.parse(input);
                document.getElementById('json-output').textContent = JSON.stringify(obj, null, 2);
                document.getElementById('json-output').className = 'output-area result-success';
            } catch (e) {
                document.getElementById('json-output').textContent = 'é”™è¯¯: ' + e.message;
                document.getElementById('json-output').className = 'output-area result-error';
            }
        }

        function compressJson() {
            try {
                const input = document.getElementById('json-input').value;
                const obj = JSON.parse(input);
                document.getElementById('json-output').textContent = JSON.stringify(obj);
                document.getElementById('json-output').className = 'output-area result-success';
            } catch (e) {
                document.getElementById('json-output').textContent = 'é”™è¯¯: ' + e.message;
                document.getElementById('json-output').className = 'output-area result-error';
            }
        }

        function validateJson() {
            try {
                const input = document.getElementById('json-input').value;
                JSON.parse(input);
                document.getElementById('json-output').textContent = 'âœ… JSON æ ¼å¼æ­£ç¡®';
                document.getElementById('json-output').className = 'output-area result-success';
            } catch (e) {
                document.getElementById('json-output').textContent = 'âŒ ' + e.message;
                document.getElementById('json-output').className = 'output-area result-error';
            }
        }

        // Base64
        function encodeBase64() {
            const input = document.getElementById('base64-input').value;
            document.getElementById('base64-output').textContent = btoa(unescape(encodeURIComponent(input)));
        }

        function decodeBase64() {
            try {
                const input = document.getElementById('base64-input').value;
                document.getElementById('base64-output').textContent = decodeURIComponent(escape(atob(input)));
            } catch (e) {
                document.getElementById('base64-output').textContent = 'é”™è¯¯: æ— æ•ˆçš„ Base64 å­—ç¬¦ä¸²';
            }
        }

        // URL
        function encodeUrl() {
            const input = document.getElementById('url-input').value;
            document.getElementById('url-output').textContent = encodeURIComponent(input);
        }

        function decodeUrl() {
            try {
                const input = document.getElementById('url-input').value;
                document.getElementById('url-output').textContent = decodeURIComponent(input);
            } catch (e) {
                document.getElementById('url-output').textContent = 'é”™è¯¯: æ— æ•ˆçš„ URL ç¼–ç ';
            }
        }

        // Color
        function convertColor(source) {
            let hex, rgb, hsl;

            if (source === 'hex') {
                hex = document.getElementById('color-hex').value;
                if (!hex.startsWith('#')) hex = '#' + hex;
                const rgbMatch = hex.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i);
                if (rgbMatch) {
                    const r = parseInt(rgbMatch[1], 16);
                    const g = parseInt(rgbMatch[2], 16);
                    const b = parseInt(rgbMatch[3], 16);
                    rgb = `rgb(${r}, ${g}, ${b})`;
                    const [h, s, l] = rgbToHsl(r, g, b);
                    hsl = `hsl(${h}, ${s}%, ${l}%)`;
                }
            } else if (source === 'rgb') {
                rgb = document.getElementById('color-rgb').value;
                const rgbMatch = rgb.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);
                if (rgbMatch) {
                    const r = parseInt(rgbMatch[1]);
                    const g = parseInt(rgbMatch[2]);
                    const b = parseInt(rgbMatch[3]);
                    hex = '#' + [r, g, b].map(x => x.toString(16).padStart(2, '0')).join('');
                    const [h, s, l] = rgbToHsl(r, g, b);
                    hsl = `hsl(${h}, ${s}%, ${l}%)`;
                }
            } else if (source === 'hsl') {
                hsl = document.getElementById('color-hsl').value;
                const hslMatch = hsl.match(/hsl\((\d+),\s*(\d+)%?,\s*(\d+)%?\)/);
                if (hslMatch) {
                    const h = parseInt(hslMatch[1]);
                    const s = parseInt(hslMatch[2]);
                    const l = parseInt(hslMatch[3]);
                    const [r, g, b] = hslToRgb(h, s, l);
                    hex = '#' + [r, g, b].map(x => x.toString(16).padStart(2, '0')).join('');
                    rgb = `rgb(${r}, ${g}, ${b})`;
                }
            }

            if (hex && hex.length === 7) {
                document.getElementById('color-hex').value = hex;
                document.getElementById('color-rgb').value = rgb;
                document.getElementById('color-hsl').value = hsl;
                document.getElementById('color-preview').style.backgroundColor = hex;
            }
        }

        function rgbToHsl(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;
            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }
            return [Math.round(h * 360), Math.round(s * 100), Math.round(l * 100)];
        }

        function hslToRgb(h, s, l) {
            h /= 360; s /= 100; l /= 100;
            let r, g, b;
            if (s === 0) {
                r = g = b = l;
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1/6) return p + (q - p) * 6 * t;
                    if (t < 1/2) return q;
                    if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                    return p;
                };
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }
            return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];
        }

        // Timestamp
        function convertTimestamp(source) {
            const now = new Date();

            if (source === 'seconds') {
                const ts = parseInt(document.getElementById('timestamp-seconds').value);
                if (ts) {
                    const date = new Date(ts * 1000);
                    document.getElementById('timestamp-ms').value = ts * 1000;
                    document.getElementById('timestamp-date').value = date.toLocaleString('zh-CN');
                }
            } else if (source === 'ms') {
                const ts = parseInt(document.getElementById('timestamp-ms').value);
                if (ts) {
                    const date = new Date(ts);
                    document.getElementById('timestamp-seconds').value = Math.floor(ts / 1000);
                    document.getElementById('timestamp-date').value = date.toLocaleString('zh-CN');
                }
            } else if (source === 'date') {
                const dateStr = document.getElementById('timestamp-date').value;
                const date = new Date(dateStr);
                if (!isNaN(date.getTime())) {
                    document.getElementById('timestamp-seconds').value = Math.floor(date.getTime() / 1000);
                    document.getElementById('timestamp-ms').value = date.getTime();
                }
            }

            updateTimestampList();
        }

        function updateTimestampList() {
            const list = document.getElementById('timestamp-list');
            const now = new Date();
            list.innerHTML = `
                <div class="timestamp-item">
                    <span>å½“å‰æ—¶é—´</span>
                    <span>${now.toLocaleString('zh-CN')}</span>
                </div>
                <div class="timestamp-item">
                    <span>Unix ç§’</span>
                    <span>${Math.floor(now.getTime() / 1000)}</span>
                </div>
                <div class="timestamp-item">
                    <span>Unix æ¯«ç§’</span>
                    <span>${now.getTime()}</span>
                </div>
            `;
        }

        // Regex
        function testRegex() {
            const pattern = document.getElementById('regex-pattern').value;
            const test = document.getElementById('regex-test').value;
            try {
                const regex = new RegExp(pattern, 'g');
                const matches = test.match(regex);
                if (matches) {
                    document.getElementById('regex-output').textContent = `åŒ¹é… ${matches.length} ä¸ª:\n` + matches.join('\n');
                } else {
                    document.getElementById('regex-output').textContent = 'æ— åŒ¹é…';
                }
            } catch (e) {
                document.getElementById('regex-output').textContent = 'é”™è¯¯: ' + e.message;
            }
        }

        // Hash - Simple implementation using SubtleCrypto
        async function generateHash(algo) {
            const input = document.getElementById('hash-input').value;
            const msgBuffer = new TextEncoder().encode(input);
            const hashBuffer = await crypto.subtle.digest(algo.toUpperCase().replace('-', ''), msgBuffer);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
            document.getElementById('hash-output').textContent = hashHex;
        }

        // Markdown (Simple)
        function previewMarkdown() {
            const input = document.getElementById('markdown-input').value;
            let html = input
                .replace(/^### (.*$)/gm, '<h3>$1</h3>')
                .replace(/^## (.*$)/gm, '<h2>$1</h2>')
                .replace(/^# (.*$)/gm, '<h1>$1</h1>')
                .replace(/\*\*(.*)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*)\*/g, '<em>$1</em>')
                .replace(/`([^`]+)`/g, '<code>$1</code>')
                .replace(/\n/g, '<br>');
            document.getElementById('markdown-output').innerHTML = html;
        }

        // JWT Decoder
        function decodeJwt() {
            try {
                const token = document.getElementById('jwt-input').value.trim();
                if (!token) {
                    document.getElementById('jwt-output').textContent = '';
                    return;
                }
                const parts = token.split('.');
                if (parts.length !== 3) {
                    document.getElementById('jwt-output').textContent = 'æ— æ•ˆçš„ JWT æ ¼å¼';
                    return;
                }
                const decode = (str) => {
                    try {
                        return decodeURIComponent(atob(str).split('').map(c => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)).join(''));
                    } catch (e) {
                        return atob(str);
                    }
                };
                const header = JSON.parse(decode(parts[0]));
                const payload = JSON.parse(decode(parts[1]));
                let result = 'Header:\n' + JSON.stringify(header, null, 2);
                result += '\n\nPayload:\n' + JSON.stringify(payload, null, 2);
                if (payload.exp) {
                    const expDate = new Date(payload.exp * 1000);
                    const now = new Date();
                    result += '\n\nè¿‡æœŸæ—¶é—´: ' + expDate.toLocaleString();
                    result += now > expDate ? ' (å·²è¿‡æœŸ)' : ' (æœ‰æ•ˆ)';
                }
                if (payload.iat) {
                    const iatDate = new Date(payload.iat * 1000);
                    result += '\nç­¾å‘æ—¶é—´: ' + iatDate.toLocaleString();
                }
                document.getElementById('jwt-output').textContent = result;
            } catch (e) {
                document.getElementById('jwt-output').textContent = 'è§£ç å¤±è´¥: ' + e.message;
            }
        }

        // Cron Generator
        function applyCronPreset() {
            const preset = document.getElementById('cron-preset').value;
            if (!preset) return;
            const parts = preset.split(' ');
            document.getElementById('cron-min').value = parts[0];
            document.getElementById('cron-hour').value = parts[1];
            document.getElementById('cron-dom').value = parts[2];
            document.getElementById('cron-month').value = parts[3];
            document.getElementById('cron-dow').value = parts[4];
            buildCron();
        }

        function buildCron() {
            const min = document.getElementById('cron-min').value || '*';
            const hour = document.getElementById('cron-hour').value || '*';
            const dom = document.getElementById('cron-dom').value || '*';
            const month = document.getElementById('cron-month').value || '*';
            const dow = document.getElementById('cron-dow').value || '*';
            const cron = min + ' ' + hour + ' ' + dom + ' ' + month + ' ' + dow;
            document.getElementById('cron-result').textContent = cron;
            document.getElementById('cron-desc').textContent = explainCron(min, hour, dom, month, dow);
        }

        function explainCron(min, hour, dom, month, dow) {
            const parts = [];
            if (min === '*') parts.push('æ¯åˆ†é’Ÿ');
            else if (min.includes('/')) parts.push('æ¯ ' + min.split('/')[1] + ' åˆ†é’Ÿ');
            else parts.push('åˆ†é’Ÿ: ' + min);

            if (hour === '*') parts.push('æ¯å°æ—¶');
            else if (hour.includes('/')) parts.push('æ¯ ' + hour.split('/')[1] + ' å°æ—¶');
            else parts.push('å°æ—¶: ' + hour);

            if (dom === '*') parts.push('æ¯å¤©');
            else parts.push('æ—¥æœŸ: ' + dom);

            const monthNames = ['', 'ä¸€æœˆ', 'äºŒæœˆ', 'ä¸‰æœˆ', 'å››æœˆ', 'äº”æœˆ', 'å…­æœˆ', 'ä¸ƒæœˆ', 'å…«æœˆ', 'ä¹æœˆ', 'åæœˆ', 'åä¸€æœˆ', 'åäºŒæœˆ'];
            if (month === '*') parts.push('æ¯æœˆ');
            else if (monthNames[parseInt(month)]) parts.push(monthNames[parseInt(month)]);
            else parts.push('æœˆä»½: ' + month);

            const dowNames = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­'];
            if (dow === '*') parts.push('æ¯å¤©');
            else if (dowNames[parseInt(dow)]) parts.push(dowNames[parseInt(dow)]);
            else parts.push('æ˜ŸæœŸ: ' + dow);

            return parts.join(' | ');
        }

        // XML Formatter
        function formatXml() {
            try {
                const input = document.getElementById('xml-input').value;
                const parser = new DOMParser();
                const doc = parser.parseFromString(input, 'text/xml');
                const error = doc.querySelector('parsererror');
                if (error) {
                    document.getElementById('xml-output').textContent = 'XML è§£æé”™è¯¯: ' + error.textContent;
                    return;
                }
                const serializer = new XMLSerializer();
                let xml = serializer.serializeToString(doc);
                let formatted = '';
                let indent = 0;
                xml = xml.replace(/(>)(<)(\/*)/g, '$1\n$2$3');
                xml.split('\n').forEach(node => {
                    let match = node.match(/^(\s*)([^\s]*)/);
                    if (!match) return;
                    let indentSize = match[1].length;
                    formatted += '  '.repeat(indentSize) + match[2] + '\n';
                    indent = indentSize;
                    if (node.includes('</')) indent = Math.max(0, indent - 1);
                });
                document.getElementById('xml-output').textContent = formatted.trim();
            } catch (e) {
                document.getElementById('xml-output').textContent = 'é”™è¯¯: ' + e.message;
            }
        }

        function compressXml() {
            try {
                const input = document.getElementById('xml-input').value;
                const parser = new DOMParser();
                const doc = parser.parseFromString(input, 'text/xml');
                const error = doc.querySelector('parsererror');
                if (error) {
                    document.getElementById('xml-output').textContent = 'XML è§£æé”™è¯¯: ' + error.textContent;
                    return;
                }
                const serializer = new XMLSerializer();
                let xml = serializer.serializeToString(doc);
                xml = xml.replace(/>\s+</g, '><').replace(/\s+/g, ' ').trim();
                document.getElementById('xml-output').textContent = xml;
            } catch (e) {
                document.getElementById('xml-output').textContent = 'é”™è¯¯: ' + e.message;
            }
        }

        function validateXml() {
            try {
                const input = document.getElementById('xml-input').value;
                const parser = new DOMParser();
                const doc = parser.parseFromString(input, 'text/xml');
                const error = doc.querySelector('parsererror');
                if (error) {
                    document.getElementById('xml-output').textContent = 'XML æ ¼å¼é”™è¯¯:\n' + error.textContent;
                } else {
                    document.getElementById('xml-output').textContent = 'XML æ ¼å¼æ­£ç¡®';
                }
            } catch (e) {
                document.getElementById('xml-output').textContent = 'é”™è¯¯: ' + e.message;
            }
        }

        // Init
        updateTimestampList();

        // Diff Tool - Simple line-by-line comparison
        function compareDiff() {
            const original = document.getElementById('diff-original').value;
            const modified = document.getElementById('diff-modified').value;
            const origLines = original.split('\n');
            const modLines = modified.split('\n');
            let result = '';

            const maxLines = Math.max(origLines.length, modLines.length);
            for (let i = 0; i < maxLines; i++) {
                const origLine = origLines[i] || '';
                const modLine = modLines[i] || '';
                if (origLine === modLine) {
                    result += '  ' + (i + 1).toString().padStart(3, ' ') + ' | ' + origLine + '\n';
                } else {
                    if (origLine) result += '- ' + (i + 1).toString().padStart(3, ' ') + ' | <span style="color: #ef4444;">' + origLine + '</span>\n';
                    if (modLine) result += '+ ' + (i + 1).toString().padStart(3, ' ') + ' | <span style="color: #22c55e;">' + modLine + '</span>\n';
                }
            }

            const output = document.getElementById('diff-output');
            output.innerHTML = result || 'æ— å·®å¼‚';
        }

        // QR Code Generator (Simple implementation)
        function generateQRCode() {
            const text = document.getElementById('qrcode-input').value;
            const canvas = document.getElementById('qrcode-canvas');
            const ctx = canvas.getContext('2d');

            if (!text) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                return;
            }

            // Simple QR-like matrix generation (not a real QR code, but visual representation)
            const size = 200;
            canvas.width = size;
            canvas.height = size;

            // Generate a simple pattern based on text hash
            const hash = simpleHash(text);
            const modules = 21; // 21x21 modules
            const moduleSize = size / modules;

            // White background
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, size, size);

            // Generate pattern
            ctx.fillStyle = '#000000';
            for (let row = 0; row < modules; row++) {
                for (let col = 0; col < modules; col++) {
                    // Position detection patterns (corners)
                    if ((row < 7 && col < 7) ||
                        (row < 7 && col >= modules - 7) ||
                        (row >= modules - 7 && col < 7)) {
                        if ((row === 0 || row === 6 || col === 0 || col === 6 ||
                             (row >= 2 && row <= 4 && col >= 2 && col <= 4))) {
                            ctx.fillRect(col * moduleSize, row * moduleSize, moduleSize, moduleSize);
                        }
                        continue;
                    }

                    // Data pattern based on hash
                    const idx = row * modules + col;
                    if ((hash >> (idx % 16)) & 1) {
                        ctx.fillRect(col * moduleSize, row * moduleSize, moduleSize, moduleSize);
                    }
                }
            }
        }

        function simpleHash(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            return Math.abs(hash);
        }

        function downloadQRCode() {
            const canvas = document.getElementById('qrcode-canvas');
            const link = document.createElement('a');
            link.download = 'qrcode.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        // UUID Generator
        function generateUUIDs() {
            const count = parseInt(document.getElementById('uuid-count').value) || 1;
            const output = [];
            for (let i = 0; i < count; i++) {
                // Generate UUID v4
                const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                    const r = Math.random() * 16 | 0;
                    const v = c === 'x' ? r : (r & 0x3 | 0x8);
                    return v.toString(16);
                });
                output.push(uuid);
            }
            document.getElementById('uuid-output').textContent = output.join('\n');
        }

        // HTML Escape
        function escapeHtml() {
            const input = document.getElementById('html-input').value;
            const escaped = input
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#039;');
            document.getElementById('html-output').textContent = escaped;
        }

        function unescapeHtml() {
            const input = document.getElementById('html-input').value;
            const unescaped = input
                .replace(/&amp;/g, '&')
                .replace(/&lt;/g, '<')
                .replace(/&gt;/g, '>')
                .replace(/&quot;/g, '"')
                .replace(/&#039;/g, "'");
            document.getElementById('html-output').textContent = unescaped;
        }

        // SQL Formatter
        function formatSql() {
            const input = document.getElementById('sql-input').value;
            try {
                const formatted = formatSqlInternal(input, true);
                document.getElementById('sql-output').textContent = formatted;
                document.getElementById('sql-output').className = 'output-area result-success';
            } catch (e) {
                document.getElementById('sql-output').textContent = 'é”™è¯¯: ' + e.message;
                document.getElementById('sql-output').className = 'output-area result-error';
            }
        }

        function compressSql() {
            const input = document.getElementById('sql-input').value;
            try {
                const compressed = formatSqlInternal(input, false);
                document.getElementById('sql-output').textContent = compressed;
                document.getElementById('sql-output').className = 'output-area result-success';
            } catch (e) {
                document.getElementById('sql-output').textContent = 'é”™è¯¯: ' + e.message;
                document.getElementById('sql-output').className = 'output-area result-error';
            }
        }

        function formatSqlInternal(sql, pretty) {
            const keywords = ['SELECT', 'FROM', 'WHERE', 'JOIN', 'LEFT JOIN', 'RIGHT JOIN', 'INNER JOIN', 'OUTER JOIN', 'ON', 'AND', 'OR', 'NOT', 'IN', 'LIKE', 'ORDER BY', 'GROUP BY', 'HAVING', 'LIMIT', 'OFFSET', 'INSERT INTO', 'VALUES', 'UPDATE', 'SET', 'DELETE FROM', 'CREATE TABLE', 'ALTER TABLE', 'DROP TABLE', 'INDEX', 'PRIMARY KEY', 'FOREIGN KEY', 'REFERENCES', 'UNIQUE', 'DEFAULT', 'NULL', 'AS', 'DISTINCT', 'COUNT', 'SUM', 'AVG', 'MAX', 'MIN', 'CASE', 'WHEN', 'THEN', 'ELSE', 'END', 'UNION', 'ALL', 'EXISTS', 'BETWEEN', 'IS', 'ASC', 'DESC', 'WITH'];

            let result = sql.trim();

            if (pretty) {
                keywords.forEach(kw => {
                    const regex = new RegExp('\\b' + kw.replace(' ', '\\s+') + '\\b', 'gi');
                    result = result.replace(regex, '\n' + kw);
                });
                result = result.trim();
                let lines = result.split('\n');
                let indent = 0;
                result = lines.map(line => {
                    line = line.trim();
                    if (line.match(/^(WHERE|JOIN|LEFT JOIN|RIGHT JOIN|INNER JOIN|OUTER JOIN|AND|OR|HAVING|GROUP BY|ORDER BY)$/i)) {
                        indent = 1;
                    } else if (line.match(/^(SELECT|FROM|INSERT INTO|VALUES|UPDATE|SET|DELETE FROM|WHEN|THEN|ELSE|END)$/i)) {
                        indent = 0;
                    }
                    const spaces = '    '.repeat(indent);
                    return spaces + line;
                }).join('\n');
            } else {
                result = result.replace(/\s+/g, ' ');
                result = result.replace(/\s*,\s*/g, ', ');
                result = result.replace(/\s*\(\s*/g, '(');
                result = result.replace(/\s*\)\s*/g, ')');
                result = result.replace(/\s*=\s*/g, '=');
                result = result.replace(/\s*<\s*/g, '<');
                result = result.replace(/\s*>\s*/g, '>');
                result = result.trim();
            }

            return result;
        }
    </script>

    <div class="sponsor-section">
        <div class="sponsor-title">â˜• æ”¯æŒæˆ‘ä»¬</div>
        <div class="sponsor-desc">å¦‚æœä½ å–œæ¬¢è¿™äº›å·¥å…·ï¼Œæ¬¢è¿èµåŠ©ä¸€æ¯å’–å•¡ï¼</div>
        <div class="sponsor-buttons">
            <a href="https://qr.alipay.com/fk0941829sglvdprm8wgv0e" target="_blank" class="sponsor-btn alipay">æ”¯ä»˜å®</a>
            <a href="weixin://wxpay/bizpayurl?pr=placeholder" class="sponsor-btn wechat">å¾®ä¿¡</a>
            <a href="https://paypal.me/autocompany" target="_blank" class="sponsor-btn paypal">PayPal</a>
        </div>
        <div class="crypto-section">
            <p class="crypto-title">ğŸ’ åŠ å¯†è´§å¸</p>
            <div class="crypto-address" onclick="copyAddress('btc', 'bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh')">
                <span class="crypto-label">BTC:</span>
                <span class="crypto-value">bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh</span>
                <span class="copy-hint">ç‚¹å‡»å¤åˆ¶</span>
            </div>
            <div class="crypto-address" onclick="copyAddress('eth', '0x1234567890abcdef1234567890abcdef12345678')">
                <span class="crypto-label">ETH/USDT:</span>
                <span class="crypto-value">0x1234567890abcdef1234567890abcdef12345678</span>
                <span class="copy-hint">ç‚¹å‡»å¤åˆ¶</span>
            </div>
        </div>
    </div>
    <script>
    function copyAddress(coin, addr) {
        navigator.clipboard.writeText(addr).then(function() {
            alert(coin.toUpperCase() + ' åœ°å€å·²å¤åˆ¶: ' + addr);
        });
    }
    </script>
</body>
</html>
