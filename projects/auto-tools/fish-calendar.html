<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‘¸é±¼æ—¥å†å¡ç‰‡ç”Ÿæˆå™¨ - ä»Šæ—¥æ‘¸é±¼äº†å—</title>
    <meta name="description" content="ç”Ÿæˆç²¾ç¾çš„æ‘¸é±¼æ—¥å†å¡ç‰‡ï¼Œè®°å½•ä½ çš„æ‘¸é±¼æ—¶å…‰ï¼Œä¸€é”®ä¿å­˜å›¾ç‰‡åˆ†äº«åˆ°æœ‹å‹åœˆ">
    <meta name="keywords" content="æ‘¸é±¼,æ—¥å†å¡ç‰‡,ä¸Šç­æ‘¸é±¼,æ‘¸é±¼æ—¥å†,æœ‹å‹åœˆ,åˆ†äº«">
    <style>
        :root {
            --primary: #8b5cf6;
            --primary-dark: #7c3aed;
            --bg: #f5f3ff;
            --card: #ffffff;
            --text: #1f2937;
            --text-light: #6b7280;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
        }

        h1 {
            text-align: center;
            margin-bottom: 8px;
            color: var(--primary);
        }

        .subtitle {
            text-align: center;
            color: var(--text-light);
            font-size: 0.875rem;
            margin-bottom: 20px;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
        }

        .card {
            background: var(--card);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 16px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 16px;
            font-family: inherit;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .template-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-bottom: 16px;
        }

        .template-btn {
            padding: 10px 8px;
            border: 2px solid #e5e7eb;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-size: 0.75rem;
            transition: all 0.2s;
        }

        .template-btn:hover {
            border-color: var(--primary);
        }

        .template-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .btn-group {
            display: flex;
            gap: 8px;
            margin-top: 16px;
        }

        button {
            flex: 1;
            padding: 14px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-secondary {
            background: #e5e7eb;
            color: var(--text);
        }

        .btn-secondary:hover {
            background: #d1d5db;
        }

        /* Preview Card */
        .preview-container {
            margin-top: 20px;
            text-align: center;
        }

        #preview {
            max-width: 100%;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }

        .tips {
            margin-top: 16px;
            padding: 12px;
            background: #fef3c7;
            border-radius: 8px;
            font-size: 0.875rem;
            color: #92400e;
        }

        .fish-icon {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 10px;
        }

        .fish-swim {
            animation: swim 2s ease-in-out infinite;
        }

        @keyframes swim {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="fish-icon">
            <span class="fish-swim">ğŸŸ</span>
        </div>
        <h1>æ‘¸é±¼æ—¥å†å¡ç‰‡ç”Ÿæˆå™¨</h1>
        <p class="subtitle">è®°å½•ä½ çš„æ‘¸é±¼æ—¶å…‰ï¼Œåˆ†äº«åˆ°æœ‹å‹åœˆ</p>

        <div class="card">
            <label>ä½ çš„æ˜µç§°</label>
            <input type="text" id="nickname" placeholder="è¯·è¾“å…¥æ˜µç§°" maxlength="20">

            <label>æœ¬æœˆæ‘¸é±¼å¤©æ•°</label>
            <input type="number" id="fishDays" placeholder="ä»Šå¤©æ‘¸é±¼äº†å—ï¼Ÿ" min="0" max="31" value="1">

            <label>ä»Šæ—¥çŠ¶æ€</label>
            <select id="mood">
                <option value="0">ğŸŸ æ­£åœ¨æ‘¸é±¼ä¸­</option>
                <option value="1">ğŸ“± å‡†å¤‡æ‘¸é±¼</option>
                <option value="2">â˜• æ‘¸é±¼ä¼‘æ¯</option>
                <option value="3">ğŸ˜„ æ‘¸é±¼å¼€å¿ƒ</option>
                <option value="4">ğŸ® åˆ’æ°´ä¸­...</option>
                <option value="5">ğŸ’» å¸¦è–ªå¦‚å•</option>
                <option value="6">ğŸ§˜ å¿ƒæ€å¹³å’Œ</option>
                <option value="7">ğŸ¤« å·å·æ‘¸é±¼</option>
            </select>

            <label>é€‰æ‹©èƒŒæ™¯é£æ ¼</label>
            <div class="template-grid" id="bgTemplate">
                <div class="template-btn active" data-bg="purple">ğŸ’œ ç´«è‰²æµªæ¼«</div>
                <div class="template-btn" data-bg="blue">ğŸ’™ è“è‰²æ¸…æ–°</div>
                <div class="template-btn" data-bg="pink">ğŸ’– ç²‰è‰²ç”œç¾</div>
                <div class="template-btn" data-bg="orange">ğŸ§¡ æ©™è‰²æ´»åŠ›</div>
                <div class="template-btn" data-bg="green">ğŸ’š ç»¿è‰²è‡ªç„¶</div>
                <div class="template-btn" data-bg="gold">ğŸ§¡ é‡‘è‰²å¥¢å</div>
                <div class="template-btn" data-bg="red">â¤ï¸ çº¢è‰²çƒ­æƒ…</div>
                <div class="template-btn" data-bg="rainbow">ğŸŒˆ å½©è™¹æ¸å˜</div>
            </div>

            <div class="btn-group">
                <button class="btn-primary" onclick="generateCard()">ç”Ÿæˆå¡ç‰‡</button>
            </div>
        </div>

        <div class="preview-container" id="previewContainer" style="display: none;">
            <canvas id="preview" width="400" height="600"></canvas>
            <div class="btn-group">
                <button class="btn-primary" onclick="downloadCard()">ğŸ“¥ ä¸‹è½½å›¾ç‰‡</button>
                <button class="btn-secondary" onclick="copyCard()">ğŸ“‹ å¤åˆ¶å›¾ç‰‡</button>
            </div>
        </div>

        <div class="tips">
            ğŸ’¡ æç¤ºï¼šç”Ÿæˆå¡ç‰‡åç‚¹å‡»"å¤åˆ¶å›¾ç‰‡"ï¼Œå¯ä»¥ç›´æ¥ç²˜è´´åˆ°å¾®ä¿¡/æœ‹å‹åœˆåˆ†äº«
        </div>
    </div>

    <script>
        const bgColors = {
            purple: ['#8b5cf6', '#c084fc', '#f0abfc'],
            blue: ['#3b82f6', '#60a5fa', '#93c5fd'],
            pink: ['#ec4899', '#f472b6', '#f9a8d4'],
            orange: ['#f97316', '#fb923c', '#fdba74'],
            green: ['#10b981', '#34d399', '#6ee7b7'],
            gold: ['#f59e0b', '#fbbf24', '#fcd34d'],
            red: ['#ef4444', '#f87171', '#fca5a5'],
            rainbow: ['#ff6b6b', '#feca57', '#48dbfb', '#ff9ff3', '#54a0ff']
        };

        const moods = ['ğŸŸ æ­£åœ¨æ‘¸é±¼ä¸­', 'ğŸ“± å‡†å¤‡æ‘¸é±¼', 'â˜• æ‘¸é±¼ä¼‘æ¯', 'ğŸ˜„ æ‘¸é±¼å¼€å¿ƒ', 'ğŸ® åˆ’æ°´ä¸­...', 'ğŸ’» å¸¦è–ªå¦‚å•', 'ğŸ§˜ å¿ƒæ€å¹³å’Œ', 'ğŸ¤« å·å·æ‘¸é±¼'];

        let currentBg = 'purple';
        let currentCanvas = null;

        // Template selection
        document.querySelectorAll('.template-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.template-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentBg = btn.dataset.bg;
            });
        });

        function generateCard() {
            const nickname = document.getElementById('nickname').value || 'æ‘¸é±¼è¾¾äºº';
            const fishDays = document.getElementById('fishDays').value || '1';
            const mood = moods[document.getElementById('mood').value];

            const canvas = document.getElementById('preview');
            const ctx = canvas.getContext('2d');
            currentCanvas = canvas;

            // Draw background
            const colors = bgColors[currentBg];

            if (currentBg === 'rainbow') {
                const gradient = ctx.createLinearGradient(0, 0, 400, 600);
                gradient.addColorStop(0, colors[0]);
                gradient.addColorStop(0.25, colors[1]);
                gradient.addColorStop(0.5, colors[2]);
                gradient.addColorStop(0.75, colors[3]);
                gradient.addColorStop(1, colors[4]);
                ctx.fillStyle = gradient;
            } else {
                const gradient = ctx.createLinearGradient(0, 0, 400, 600);
                gradient.addColorStop(0, colors[0]);
                gradient.addColorStop(1, colors[1]);
                ctx.fillStyle = gradient;
            }

            ctx.fillRect(0, 0, 400, 600);

            // Add decorative circles
            ctx.fillStyle = 'rgba(255,255,255,0.1)';
            ctx.beginPath();
            ctx.arc(50, 50, 80, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(350, 550, 100, 0, Math.PI * 2);
            ctx.fill();

            // Add fish decorations
            ctx.font = '30px Arial';
            ctx.fillStyle = 'rgba(255,255,255,0.3)';
            ctx.fillText('ğŸŸ', 30, 150);
            ctx.fillText('ğŸ ', 340, 200);
            ctx.fillText('ğŸ¡', 50, 450);

            // Title
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 36px "PingFang SC", "Microsoft YaHei", sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('æ‘¸é±¼æ—¥å†', 200, 80);

            // Date
            const now = new Date();
            const dateStr = `${now.getFullYear()}å¹´${now.getMonth() + 1}æœˆ`;
            ctx.font = '20px "PingFang SC", "Microsoft YaHei", sans-serif';
            ctx.fillText(dateStr, 200, 120);

            // Card container
            ctx.fillStyle = 'rgba(255,255,255,0.95)';
            roundRect(ctx, 40, 150, 320, 380, 20);
            ctx.fill();

            // Fish icon
            ctx.font = '60px Arial';
            ctx.fillText('ğŸŸ', 200, 230);

            // Fish days
            ctx.fillStyle = '#8b5cf6';
            ctx.font = 'bold 48px "PingFang SC", "Microsoft YaHei", sans-serif';
            ctx.fillText(fishDays, 200, 300);

            ctx.font = '18px "PingFang SC", "Microsoft YaHei", sans-serif';
            ctx.fillStyle = '#6b7280';
            ctx.fillText('æœ¬æœˆæ‘¸é±¼å¤©æ•°', 200, 330);

            // Mood
            ctx.fillStyle = '#1f2937';
            ctx.font = '22px "PingFang SC", "Microsoft YaHei", sans-serif';
            ctx.fillText(mood, 200, 380);

            // Nickname
            ctx.fillStyle = '#8b5cf6';
            ctx.font = '16px "PingFang SC", "Microsoft YaHei", sans-serif';
            ctx.fillText(`â€” ${nickname} â€”`, 200, 490);

            // Bottom decoration
            ctx.fillStyle = 'rgba(255,255,255,0.2)';
            ctx.fillRect(0, 560, 400, 40);
            ctx.fillStyle = '#ffffff';
            ctx.font = '14px "PingFang SC", "Microsoft YaHei", sans-serif';
            ctx.fillText('ä»Šå¤©ä½ æ‘¸é±¼äº†å—ï¼Ÿ', 200, 585);

            document.getElementById('previewContainer').style.display = 'block';
        }

        function roundRect(ctx, x, y, width, height, radius) {
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.lineTo(x + width - radius, y);
            ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
            ctx.lineTo(x + width, y + height - radius);
            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
            ctx.lineTo(x + radius, y + height);
            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
            ctx.lineTo(x, y + radius);
            ctx.quadraticCurveTo(x, y, x + radius, y);
            ctx.closePath();
        }

        function downloadCard() {
            const canvas = document.getElementById('preview');
            const link = document.createElement('a');
            link.download = 'æ‘¸é±¼æ—¥å†.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        async function copyCard() {
            const canvas = document.getElementById('preview');
            canvas.toBlob(async (blob) => {
                try {
                    await navigator.clipboard.write([
                        new ClipboardItem({ 'image/png': blob })
                    ]);
                    alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼å¯ä»¥ç›´æ¥ç²˜è´´åˆ°å¾®ä¿¡/æœ‹å‹åœˆ');
                } catch (err) {
                    alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·ä½¿ç”¨ä¸‹è½½åŠŸèƒ½');
                }
            });
        }

        // Generate default card on load
        window.onload = generateCard;
    </script>
</body>
</html>
