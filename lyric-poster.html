<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­Œè¯æµ·æŠ¥ç”Ÿæˆå™¨ - Auto Tools</title>
    <meta name="description" content="å°†å–œæ¬¢çš„æ­Œè¯è½¬æ¢æˆç²¾ç¾çš„æµ·æŠ¥å›¾ç‰‡ï¼Œæ”¯æŒå¤šç§é£æ ¼ï¼Œä¸€é”®ä¿å­˜åˆ†äº«åˆ°æœ‹å‹åœˆ">
    <link rel="canonical" href="https://luows666.github.io/auto-tools/lyric-poster.html">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
            color: #fff;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            margin-bottom: 10px;
            font-size: 2rem;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 30px;
            font-size: 0.9rem;
        }
        .card {
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            color: #ccc;
            font-size: 0.9rem;
        }
        textarea, input, select {
            width: 100%;
            padding: 12px 16px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.1);
            color: #fff;
            font-size: 1rem;
            transition: all 0.3s;
        }
        textarea:focus, input:focus, select:focus {
            outline: none;
            border-color: #4ecdc4;
            background: rgba(255,255,255,0.15);
        }
        textarea {
            min-height: 100px;
            resize: vertical;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        select {
            cursor: pointer;
        }
        .style-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 10px;
        }
        .style-option {
            padding: 10px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s;
            font-size: 0.8rem;
        }
        .style-option:hover {
            transform: scale(1.05);
        }
        .style-option.active {
            border-color: #4ecdc4;
            box-shadow: 0 0 15px rgba(78, 205, 196, 0.3);
        }
        .style-1 { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .style-2 { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .style-3 { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .style-4 { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        .style-5 { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        .style-6 { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); color: #333; }
        .style-7 { background: linear-gradient(135deg, #2c3e50 0%, #4ca1af 100%); }
        .style-8 { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); color: #333; }
        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        .btn {
            flex: 1;
            min-width: 150px;
            padding: 14px 24px;
            border-radius: 12px;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }
        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .btn-secondary:hover {
            background: rgba(255,255,255,0.2);
        }
        .btn-success {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            color: #1a1a2e;
        }
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(67, 233, 123, 0.4);
        }
        #preview {
            display: none;
            margin-top: 30px;
        }
        .preview-card {
            background: #fff;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        #posterCanvas {
            width: 100%;
            display: block;
        }
        .actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        .actions .btn {
            flex: 1;
        }
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #4ecdc4;
            text-decoration: none;
            font-size: 0.9rem;
        }
        .back-link:hover {
            text-decoration: underline;
        }
        .tips {
            background: rgba(78, 205, 196, 0.1);
            border: 1px solid rgba(78, 205, 196, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            font-size: 0.85rem;
            color: #4ecdc4;
        }
        .tips strong {
            display: block;
            margin-bottom: 5px;
        }
        @media (max-width: 600px) {
            .style-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            h1 {
                font-size: 1.5rem;
            }
            .btn-group {
                flex-direction: column;
            }
            .actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">â† è¿”å›å·¥å…·ä¸­å¿ƒ</a>
        <h1>æ­Œè¯æµ·æŠ¥ç”Ÿæˆå™¨</h1>
        <p class="subtitle">å°†å–œæ¬¢çš„æ­Œè¯è½¬æ¢æˆç²¾ç¾çš„æµ·æŠ¥å›¾ç‰‡</p>

        <div class="card">
            <div class="form-group">
                <label>é€‰æ‹©é£æ ¼</label>
                <div class="style-grid" id="styleGrid">
                    <div class="style-option style-1 active" data-style="1" data-name="æ¢¦å¹»ç´«">æ¢¦å¹»ç´«</div>
                    <div class="style-option style-2" data-style="2" data-name="æµªæ¼«ç²‰">æµªæ¼«ç²‰</div>
                    <div class="style-option style-3" data-style="3" data-name="æ¸…æ–°è“">æ¸…æ–°è“</div>
                    <div class="style-option style-4" data-style="4" data-name="è‡ªç„¶ç»¿">è‡ªç„¶ç»¿</div>
                    <div class="style-option style-5" data-style="5" data-name="å¤•é˜³æ©™">å¤•é˜³æ©™</div>
                    <div class="style-option style-6" data-style="6" data-name="æ¨±èŠ±ç²‰">æ¨±èŠ±ç²‰</div>
                    <div class="style-option style-7" data-style="7" data-name="æ˜Ÿç©ºç°">æ˜Ÿç©ºç°</div>
                    <div class="style-option style-8" data-style="8" data-name="æ£‰èŠ±ç³–">æ£‰èŠ±ç³–</div>
                </div>
            </div>

            <div class="form-group">
                <label>è¾“å…¥æ­Œè¯</label>
                <textarea id="lyrics" placeholder="åœ¨æ­¤è¾“å…¥ä½ å–œæ¬¢çš„æ­Œè¯...&#10;ä¾‹å¦‚ï¼š&#10;åœ¨æœ€ç¾çš„å¹´çºª&#10;é‡è§æœ€å¥½çš„ä½ "></textarea>
            </div>

            <div class="form-group">
                <label>æ­Œæ›²åç§°ï¼ˆå¯é€‰ï¼‰</label>
                <input type="text" id="songName" placeholder="å¦‚ï¼šæ™´å¤©">
            </div>

            <div class="form-group">
                <label>æ­Œæ‰‹ï¼ˆå¯é€‰ï¼‰</label>
                <input type="text" id="artist" placeholder="å¦‚ï¼šå‘¨æ°ä¼¦">
            </div>

            <div class="btn-group">
                <button class="btn btn-primary" onclick="generatePoster()">ç”Ÿæˆæµ·æŠ¥</button>
                <button class="btn btn-secondary" onclick="clearForm()">æ¸…ç©º</button>
            </div>

            <div class="tips">
                <strong>ğŸ’¡ åˆ†äº«æç¤ºï¼š</strong>
                ç”Ÿæˆåå¯ä¿å­˜å›¾ç‰‡åˆ†äº«åˆ°æœ‹å‹åœˆï¼Œæ”¯æŒæœ€é•¿æŒ‰ä¿å­˜æˆ–å¤åˆ¶åˆ†äº«ç»™æœ‹å‹
            </div>
        </div>

        <div id="preview">
            <div class="preview-card">
                <canvas id="posterCanvas" width="800" height="1200"></canvas>
            </div>
            <div class="actions">
                <button class="btn btn-success" onclick="downloadPoster()">ğŸ“¥ ä¸‹è½½å›¾ç‰‡</button>
                <button class="btn btn-secondary" onclick="copyToClipboard()">ğŸ“‹ å¤åˆ¶åˆ°å‰ªè´´æ¿</button>
            </div>
        </div>
    </div>

    <script>
        const gradients = {
            1: ['#667eea', '#764ba2', '#6dd5fa', '#2980b9'],
            2: ['#f093fb', '#f5576c', '#ffecd2', '#fcb69f'],
            3: ['#4facfe', '#00f2fe', '#a8edea', '#fed6e3'],
            4: ['#43e97b', '#38f9d7', '#11998e', '#38ef7d'],
            5: ['#fa709a', '#fee140', '#f6d365', '#fda085'],
            6: ['#a8edea', '#fed6e3', '#ff9a9e', '#fecfef'],
            7: ['#2c3e50', '#4ca1af', '#34495e', '#5d6d7e'],
            8: ['#ff9a9e', '#fecfef', '#a18cd1', '#fbc2eb']
        };

        const quotes = [
            "ç”¨éŸ³ä¹è®°å½•ç”Ÿæ´»",
            "æ¯ä¸€å¥æ­Œè¯éƒ½æ˜¯ä¸€ä¸ªæ•…äº‹",
            "è®©éŸ³ä¹æ¸©æš–ä½ çš„å¿ƒ",
            "æ­Œè¯é‡Œçš„æ¸©æŸ”",
            "éŸ³ä¹æ˜¯æœ€å¥½çš„è¯­è¨€",
            "è®©æ–‡å­—æˆä¸ºæ°¸æ’",
            "è®°å¿†ä¸­çš„æ—‹å¾‹",
            "æ—¶å…‰é‡Œçš„æ­Œå£°",
            "é‚£äº›è§¦åŠ¨å¿ƒå¼¦çš„æ­Œè¯",
            "éŸ³ä¹ä¸æ–‡å­—çš„ç¢°æ’"
        ];

        let currentStyle = 1;
        let generatedCanvas = null;

        // é£æ ¼é€‰æ‹©
        document.querySelectorAll('.style-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.style-option').forEach(o => o.classList.remove('active'));
                this.classList.add('active');
                currentStyle = parseInt(this.dataset.style);
            });
        });

        function generatePoster() {
            const lyrics = document.getElementById('lyrics').value.trim();
            const songName = document.getElementById('songName').value.trim();
            const artist = document.getElementById('artist').value.trim();

            if (!lyrics) {
                alert('è¯·è¾“å…¥æ­Œè¯å†…å®¹');
                return;
            }

            const canvas = document.getElementById('posterCanvas');
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;

            // ç»˜åˆ¶æ¸å˜èƒŒæ™¯
            const gradient = ctx.createLinearGradient(0, 0, width, height);
            const colors = gradients[currentStyle];
            gradient.addColorStop(0, colors[0]);
            gradient.addColorStop(0.5, colors[1]);
            gradient.addColorStop(1, colors[2] || colors[0]);
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);

            // æ·»åŠ è£…é¥°åœ†
            const randomCircle = Math.floor(Math.random() * 3) + 3;
            for (let i = 0; i < randomCircle; i++) {
                const cx = Math.random() * width;
                const cy = Math.random() * height;
                const cr = Math.random() * 150 + 50;
                const circleGrad = ctx.createRadialGradient(cx, cy, 0, cx, cy, cr);
                circleGrad.addColorStop(0, 'rgba(255,255,255,0.15)');
                circleGrad.addColorStop(1, 'rgba(255,255,255,0)');
                ctx.fillStyle = circleGrad;
                ctx.beginPath();
                ctx.arc(cx, cy, cr, 0, Math.PI * 2);
                ctx.fill();
            }

            // æ­Œè¯æ–‡æœ¬
            ctx.fillStyle = (currentStyle === 6 || currentStyle === 8) ? '#333' : '#fff';
            ctx.textAlign = 'center';

            // æ ‡é¢˜è£…é¥°
            ctx.font = 'bold 36px "Noto Sans SC", sans-serif';
            ctx.fillText('â™«', width / 2, 120);

            // æ­Œè¯å†…å®¹
            const lines = lyrics.split('\n').filter(line => line.trim());
            const lineHeight = 48;
            const startY = height / 2 - (lines.length * lineHeight) / 2 + 20;

            lines.forEach((line, index) => {
                const y = startY + index * lineHeight;
                ctx.font = 'bold 32px "Noto Sans SC", "PingFang SC", sans-serif';
                ctx.shadowColor = 'rgba(0,0,0,0.3)';
                ctx.shadowBlur = 10;
                ctx.shadowOffsetX = 2;
                ctx.shadowOffsetY = 2;
                ctx.fillText(line.trim(), width / 2, y);
            });

            // é‡ç½®é˜´å½±
            ctx.shadowColor = 'transparent';
            ctx.shadowBlur = 0;
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 0;

            // åº•éƒ¨ä¿¡æ¯
            const bottomY = height - 180;

            if (songName || artist) {
                ctx.font = '24px "Noto Sans SC", "PingFang SC", sans-serif';
                ctx.fillStyle = (currentStyle === 6 || currentStyle === 8) ? '#666' : 'rgba(255,255,255,0.8)';
                let infoText = songName;
                if (artist) infoText += ' - ' + artist;
                ctx.fillText(infoText, width / 2, bottomY);
            }

            // è£…é¥°æ–‡å­—
            ctx.font = '18px "Noto Sans SC", "PingFang SC", sans-serif';
            ctx.fillStyle = (currentStyle === 6 || currentStyle === 8) ? '#999' : 'rgba(255,255,255,0.6)';
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            ctx.fillText(randomQuote, width / 2, height - 80);

            // æ°´å°
            ctx.font = '14px "Noto Sans SC", "PingFang SC", sans-serif';
            ctx.fillStyle = (currentStyle === 6 || currentStyle === 8) ? '#ccc' : 'rgba(255,255,255,0.4)';
            ctx.fillText('æ­Œè¯æµ·æŠ¥ç”Ÿæˆå™¨', width / 2, height - 40);

            // ä¿å­˜canvaså¼•ç”¨
            generatedCanvas = canvas;

            // æ˜¾ç¤ºé¢„è§ˆ
            document.getElementById('preview').style.display = 'block';
            document.getElementById('preview').scrollIntoView({ behavior: 'smooth' });
        }

        function downloadPoster() {
            if (!generatedCanvas) {
                alert('è¯·å…ˆç”Ÿæˆæµ·æŠ¥');
                return;
            }

            const link = document.createElement('a');
            link.download = 'lyric-poster-' + Date.now() + '.png';
            link.href = generatedCanvas.toDataURL('image/png');
            link.click();
        }

        async function copyToClipboard() {
            if (!generatedCanvas) {
                alert('è¯·å…ˆç”Ÿæˆæµ·æŠ¥');
                return;
            }

            try {
                const blob = await new Promise(resolve =>
                    generatedCanvas.toBlob(resolve, 'image/png')
                );
                await navigator.clipboard.write([
                    new ClipboardItem({ 'image/png': blob })
                ]);
                alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼è¯·æ‰“å¼€å¾®ä¿¡/æœ‹å‹åœˆé•¿æŒ‰æ·»åŠ å›¾ç‰‡');
            } catch (err) {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·å°è¯•ä¸‹è½½å›¾ç‰‡');
            }
        }

        function clearForm() {
            document.getElementById('lyrics').value = '';
            document.getElementById('songName').value = '';
            document.getElementById('artist').value = '';
            document.getElementById('preview').style.display = 'none';
            generatedCanvas = null;
        }
    </script>
</body>
</html>
