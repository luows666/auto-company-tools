<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¾èŒä¿¡ç”Ÿæˆå™¨ - ä¸€é”®ç”Ÿæˆä¼˜é›…è¾èŒä¿¡</title>
    <meta name="description" content="ä¸€é”®ç”Ÿæˆä¼˜é›…è¾èŒä¿¡ï¼Œæ”¯æŒå¤šç§é£æ ¼ï¼ŒHRçœ‹äº†éƒ½æ„ŸåŠ¨ï¼">
    <meta property="og:title" content="è¾èŒä¿¡ç”Ÿæˆå™¨">
    <meta property="og:description" content="ä¸€é”®ç”Ÿæˆä¼˜é›…è¾èŒä¿¡">
    <meta property="og:type" content="website">
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --bg: #f8fafc;
            --card: #ffffff;
            --text: #1e293b;
            --text-light: #64748b;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; }
        header { text-align: center; padding: 30px 20px; background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); color: white; border-radius: 20px; margin-bottom: 20px; box-shadow: 0 4px 20px rgba(239, 68, 68, 0.3); }
        header h1 { font-size: 1.8rem; margin-bottom: 8px; }
        header p { opacity: 0.9; }
        .card { background: var(--card); border-radius: 16px; padding: 24px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 16px; }
        label { display: block; margin-bottom: 8px; font-weight: 500; color: var(--text); }
        input, select, textarea { width: 100%; padding: 14px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 1rem; margin-bottom: 16px; transition: border-color 0.2s; }
        input:focus, select:focus, textarea:focus { outline: none; border-color: var(--primary); }
        textarea { min-height: 150px; resize: vertical; }
        .btn { width: 100%; padding: 16px; border: none; border-radius: 10px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: all 0.2s; margin-bottom: 12px; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-primary:hover { background: var(--primary-dark); transform: translateY(-2px); }
        .btn-secondary { background: #f1f5f9; color: var(--text); }
        .btn-secondary:hover { background: #e2e8f0; }
        .result { display: none; background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); border: 2px solid #22c55e; border-radius: 12px; padding: 20px; margin-top: 20px; }
        .result.show { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .result h3 { color: #16a34a; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .result-content { background: white; padding: 16px; border-radius: 8px; font-family: 'Georgia', serif; line-height: 1.8; white-space: pre-wrap; }
        .actions { display: flex; gap: 10px; margin-top: 16px; }
        .actions button { flex: 1; padding: 12px; font-size: 0.9rem; }
        .tips { background: #fffbeb; border: 1px solid #fcd34d; border-radius: 10px; padding: 16px; margin-bottom: 16px; }
        .tips h4 { color: #d97706; margin-bottom: 8px; display: flex; align-items: center; gap: 6px; }
        .tips ul { margin-left: 20px; color: #92400e; font-size: 0.9rem; }
        .tips li { margin-bottom: 4px; }
        .history { margin-top: 20px; }
        .history h3 { margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .history-item { background: #f8fafc; padding: 12px; border-radius: 8px; margin-bottom: 8px; font-size: 0.85rem; cursor: pointer; transition: background 0.2s; }
        .history-item:hover { background: #f1f5f9; }
        .history-item .date { color: #94a3b8; font-size: 0.75rem; }
        .style-options { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 16px; }
        .style-option { padding: 12px; border: 2px solid #e2e8f0; border-radius: 10px; text-align: center; cursor: pointer; transition: all 0.2s; }
        .style-option:hover { border-color: var(--primary); }
        .style-option.selected { border-color: var(--primary); background: #eef2ff; }
        .style-option .emoji { font-size: 1.5rem; display: block; margin-bottom: 4px; }
        .style-option .name { font-weight: 500; font-size: 0.9rem; }
        .floating-btn { position: fixed; bottom: 20px; right: 20px; width: 56px; height: 56px; background: linear-gradient(135deg, var(--primary), var(--primary-dark)); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4); cursor: pointer; z-index: 100; text-decoration: none; }
        .floating-btn span { color: white; font-size: 1.5rem; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸšª è¾èŒä¿¡ç”Ÿæˆå™¨</h1>
            <p>ä¸€é”®ç”Ÿæˆä¼˜é›…è¾èŒä¿¡ï¼ŒHRçœ‹äº†éƒ½æ„ŸåŠ¨ï¼</p>
        </header>

        <div class="card">
            <label>æ‚¨çš„å§“å</label>
            <input type="text" id="name" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å">

            <label>å…¬å¸åç§°</label>
            <input type="text" id="company" placeholder="è¯·è¾“å…¥å…¬å¸åç§°ï¼ˆé€‰å¡«ï¼‰">

            <label>ç¦»èŒåŸå› ï¼ˆé€‰å¡«ï¼Œä¼šè‡ªåŠ¨ä¼˜åŒ–è¡¨è¿°ï¼‰</label>
            <select id="reason">
                <option value="">éšæœºç”Ÿæˆ</option>
                <option value="ä¸ªäººå‘å±•">ä¸ªäººå‘å±•</option>
                <option value="è–ªèµ„é—®é¢˜">è–ªèµ„é—®é¢˜</option>
                <option value="å·¥ä½œå‹åŠ›">å·¥ä½œå‹åŠ›</option>
                <option value="é€šå‹¤è·ç¦»">é€šå‹¤è·ç¦»</option>
                <option value="åˆ›ä¸š">åˆ›ä¸š</option>
                <option value="ç»§ç»­æ·±é€ ">ç»§ç»­æ·±é€ </option>
                <option value="ä¼‘æ¯è°ƒæ•´">ä¼‘æ¯è°ƒæ•´</option>
            </select>

            <label>é€‰æ‹©é£æ ¼</label>
            <div class="style-options">
                <div class="style-option selected" data-style="polite">
                    <span class="emoji">ğŸ˜Š</span>
                    <span class="name">ç¤¼è²Œç‰ˆ</span>
                </div>
                <div class="style-option" data-style="humorous">
                    <span class="emoji">ğŸ˜„</span>
                    <span class="name">å¹½é»˜ç‰ˆ</span>
                </div>
                <div class="style-option" data-style="formal">
                    <span class="emoji">ğŸ“‹</span>
                    <span class="name">æ­£å¼ç‰ˆ</span>
                </div>
                <div class="style-option" data-style="emotional">
                    <span class="emoji">ğŸ˜­</span>
                    <span class="name">æ„Ÿæ€§ç‰ˆ</span>
                </div>
            </div>

            <button class="btn btn-primary" onclick="generateLetter()">ç”Ÿæˆè¾èŒä¿¡</button>
        </div>

        <div class="tips">
            <h4>ğŸ’¡ å°è´´å£«</h4>
            <ul>
                <li>å»ºè®®å…ˆä¿å­˜è‰ç¨¿ï¼Œå†æç¦»èŒ</li>
                <li>æå‰30å¤©ä¹¦é¢ç”³è¯·æ˜¯æ­£ç»Ÿåšæ³•</li>
                <li>åšå¥½å·¥ä½œäº¤æ¥ï¼Œç«™å¥½æœ€åä¸€ç­å²—</li>
                <li>ç¦»èŒè§äººå“ï¼Œå¥½èšå¥½æ•£</li>
            </ul>
        </div>

        <div class="result" id="result">
            <h3>âœ¨ æ‚¨çš„è¾èŒä¿¡å·²ç”Ÿæˆ</h3>
            <div class="result-content" id="letterContent"></div>
            <div class="actions">
                <button class="btn btn-secondary" onclick="copyToClipboard()">ğŸ“‹ å¤åˆ¶åˆ°å‰ªè´´æ¿</button>
                <button class="btn btn-secondary" onclick="downloadTxt()">ğŸ’¾ ä¸‹è½½TXT</button>
            </div>
        </div>

        <div class="history" id="historySection" style="display:none;">
            <h3>ğŸ“œ å†å²è®°å½•</h3>
            <div id="historyList"></div>
        </div>
    </div>

    <a href="index.html" class="floating-btn"><span>ğŸ </span></a>

    <script>
        let selectedStyle = 'polite';

        // é£æ ¼é€‰æ‹©
        document.querySelectorAll('.style-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.style-option').forEach(o => o.classList.remove('selected'));
                this.classList.add('selected');
                selectedStyle = this.dataset.style;
            });
        });

        // è¾èŒä¿¡æ¨¡æ¿
        const templates = {
            polite: {
                openings: [
                    'å°Šæ•¬çš„é¢†å¯¼ï¼š',
                    'äº²çˆ±çš„è€æ¿ï¼š',
                    'å°Šæ•¬çš„å„ä½é¢†å¯¼ï¼š',
                ],
                reasons: [
                    'ç»è¿‡æ·±æ€ç†Ÿè™‘ï¼Œæˆ‘å†³å®šå¯»æ±‚ä¸ªäººèŒä¸šå‘å±•çš„æ–°æœºä¼šã€‚',
                    'æ„Ÿè°¢å…¬å¸ç»™äºˆæˆ‘è¿™æ®µå®è´µçš„å·¥ä½œç»å†ã€‚',
                    'åœ¨å…¬å¸çš„è¿™æ®µæ—¶é—´ï¼Œæˆ‘æ”¶è·äº†å¾ˆå¤šï¼Œä¹Ÿæˆé•¿äº†å¾ˆå¤šã€‚',
                ],
                closings: [
                    'åœ¨æ­¤ï¼Œæˆ‘è¡·å¿ƒæ„Ÿè°¢å…¬å¸å…¨ä½“åŒäº‹çš„æ”¯æŒä¸å¸®åŠ©ã€‚',
                    'æœ€åï¼Œç¥æ„¿å…¬å¸å‘å±•é¡ºåˆ©ï¼Œä¸šç»©è’¸è’¸æ—¥ä¸Šï¼',
                    'æ„Ÿè°¢è¿™æ®µæ—¶é—´çš„åŸ¹å…»ä¸ä¿¡ä»»ï¼Œæˆ‘ä¼šæ°¸è¿œé“­è®°ã€‚',
                ]
            },
            humorous: {
                openings: [
                    'äº²çˆ±çš„è€æ¿ï¼ˆå’Œå¯èƒ½æ­£åœ¨çœ‹è¿™ç¯‡çš„HRï¼‰ï¼š',
                    'è‡´æˆ‘äº²çˆ±çš„å…¬å¸å’Œå¯çˆ±çš„åŒäº‹ä»¬ï¼š',
                    'å„ä½æ±Ÿæ¹–å†è§çš„åæµªä»¬ï¼š',
                ],
                reasons: [
                    'ç»è¿‡ç²¾å¯†è®¡ç®—ï¼Œæˆ‘å‘ç°ç»§ç»­ä¸Šç­çš„ROIï¼ˆæŠ•èµ„å›æŠ¥ç‡ï¼‰å·²ç»ä¸å¤Ÿé«˜äº†ã€‚',
                    'æˆ‘å†³å®šå»è¿½æ±‚æˆ‘çš„è¯—å’Œè¿œæ–¹ï¼Œæ¯•ç«Ÿä¸–ç•Œé‚£ä¹ˆå¤§ï¼Œæˆ‘æƒ³å»çœ‹çœ‹ã€‚',
                    'ç»è¿‡æ·±æ€ç†Ÿè™‘ï¼Œæˆ‘å†³å®šç»™æˆ‘çš„è‚æ”¾ä¸ªå‡ã€‚',
                ],
                closings: [
                    'é’å±±ä¸æ”¹ï¼Œç»¿æ°´é•¿æµï¼Œæ±Ÿæ¹–è·¯è¿œï¼Œåä¼šæœ‰æœŸï¼',
                    'å„ä½æ±Ÿæ¹–å†è§ï¼Œè®°å¾—ç»™æˆ‘æœ‹å‹åœˆç‚¹èµï¼',
                    'æ„Ÿè°¢å„ä½çš„é™ªä¼´ï¼Œæˆ‘ä¼šæƒ³å¿µå…¬å¸æ¥¼ä¸‹çš„ç›’é¥­çš„ã€‚',
                ]
            },
            formal: {
                openings: [
                    'è‡´å…¬å¸äººåŠ›èµ„æºéƒ¨ï¼š',
                    'å°Šæ•¬çš„å…¬å¸é¢†å¯¼ï¼š',
                    'è‡´å…¬å¸å…¨ä½“åŒä»ï¼š',
                ],
                reasons: [
                    'å› ä¸ªäººèŒä¸šå‘å±•éœ€è¦ï¼Œç°æ­£å¼å‘å…¬å¸æå‡ºç¦»èŒç”³è¯·ã€‚',
                    'ç»æ…é‡è€ƒè™‘ï¼Œæˆ‘å†³å®šäºè¿‘æœŸç¦»èŒï¼Œå¯»æ‰¾æ–°çš„å‘å±•æœºä¼šã€‚',
                    'åŸºäºä¸ªäººèŒä¸šè§„åˆ’ï¼Œæˆ‘å°†äº30å¤©åæ­£å¼ç¦»èŒã€‚',
                ],
                closings: [
                    'æˆ‘å°†å…¨åŠ›é…åˆå®Œæˆå·¥ä½œäº¤æ¥ï¼Œç¡®ä¿å¹³ç¨³è¿‡æ¸¡ã€‚',
                    'æ„Ÿè°¢å…¬å¸æä¾›çš„å¹³å°å’Œæœºä¼šï¼Œç¥æ„¿å…¬å¸å‰ç¨‹ä¼¼é”¦ã€‚',
                    'æ­¤è‡´æ•¬ç¤¼ï¼',
                ]
            },
            emotional: {
                openings: [
                    'äº²çˆ±çš„å®¶äººä»¬ï¼š',
                    'è‡´æˆ‘æœ€çˆ±çš„ä¸€ç¾¤äººï¼š',
                    'åœ¨è¿™é‡Œçš„æ¯ä¸€å¤©ï¼š',
                ],
                reasons: [
                    'ç¦»å¼€æ˜¯æˆ‘åšè¿‡æœ€è‰°éš¾çš„å†³å®šï¼Œè¿™é‡Œæœ‰æˆ‘å¤ªå¤šä¸èˆã€‚',
                    'åœ¨è¿™é‡Œçš„æ¯ä¸€å¤©éƒ½æ˜¯çè´µçš„å›å¿†ï¼Œæˆ‘ä¼šæ°¸è¿œçè—ã€‚',
                    'æ„Ÿæ©é‡è§çš„æ¯ä¸€ä¸ªäººï¼Œæ¯ä¸€æ®µç»å†éƒ½æ˜¯æˆé•¿çš„ç¤¼ç‰©ã€‚',
                ],
                closings: [
                    'æ±Ÿæ¹–è·¯è¿œï¼Œä½†æˆ‘ä»¬çš„æ•…äº‹ä¸ä¼šç»“æŸã€‚',
                    'æ— è®ºèµ°åˆ°å“ªé‡Œï¼Œæˆ‘éƒ½ä¼šè®°å¾—è¿™æ®µç¾å¥½æ—¶å…‰ã€‚',
                    'åä¼šæœ‰æœŸï¼Œæˆ‘çš„æœ‹å‹ä»¬ï¼',
                ]
            }
        };

        function getRandom(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function generateLetter() {
            const name = document.getElementById('name').value || 'æœ¬äºº';
            const company = document.getElementById('company').value || 'æœ¬å…¬å¸';
            const reason = document.getElementById('reason').value;

            const style = templates[selectedStyle];
            let reasonText = reason ? getOptimizedReason(reason) : getRandom(style.reasons);

            const today = new Date();
            const dateStr = today.getFullYear() + 'å¹´' + (today.getMonth() + 1) + 'æœˆ' + today.getDate() + 'æ—¥';

            let letter = `${getRandom(style.openings)}\n\n`;
            letter += `    æ‚¨å¥½ï¼æˆ‘æ˜¯${name}ï¼Œåœ¨æ­¤éƒ‘é‡å‘å…¬å¸æå‡ºç¦»èŒç”³è¯·ã€‚\n\n`;
            letter += `    æ—¥æœŸï¼š${dateStr}\n\n`;
            letter += `    ${reasonText}\n\n`;
            letter += `    åœ¨${company}å·¥ä½œçš„è¿™æ®µæ—¶é—´ï¼Œæˆ‘æ”¶è·äº†å®è´µçš„ç»éªŒå’Œæˆé•¿ã€‚æ„Ÿè°¢å…¬å¸æä¾›çš„å¹³å°ï¼Œæ„Ÿè°¢é¢†å¯¼çš„åŸ¹å…»ï¼Œæ„Ÿè°¢åŒäº‹ä»¬çš„å¸®åŠ©ã€‚\n\n`;
            letter += `    ${getRandom(style.closings)}\n\n`;
            letter += `                                        ${name}\n`;
            letter += `                                        ${dateStr}`;

            document.getElementById('letterContent').textContent = letter;
            document.getElementById('result').classList.add('show');

            saveToHistory(name, selectedStyle, letter);
        }

        function getOptimizedReason(reason) {
            const optimizedReasons = {
                'ä¸ªäººå‘å±•': 'ç»è¿‡æ·±æ€ç†Ÿè™‘ï¼Œæˆ‘å†³å®šå¯»æ±‚ä¸ªäººèŒä¸šå‘å±•çš„æ–°æœºä¼šï¼Œè¿æ¥æ›´å¤§çš„æŒ‘æˆ˜ã€‚',
                'è–ªèµ„é—®é¢˜': 'ç»è¿‡æ…é‡è€ƒè™‘ï¼Œæˆ‘å¸Œæœ›å¯»æ‰¾æ›´ç¬¦åˆä¸ªäººä»·å€¼çš„èŒä¸šå‘å±•æœºä¼šã€‚',
                'å·¥ä½œå‹åŠ›': 'ä¸ºäº†æ›´å¥½åœ°è°ƒæ•´å·¥ä½œä¸ç”Ÿæ´»çš„å¹³è¡¡ï¼Œæˆ‘å†³å®šæš‚æ—¶ä¼‘æ¯è°ƒæ•´ã€‚',
                'é€šå‹¤è·ç¦»': 'å› å·¥ä½œåœ°ç‚¹ä¸å±…ä½åœ°è·ç¦»è¾ƒè¿œï¼Œç»è¿‡ç»¼åˆè€ƒè™‘åšå‡ºæ­¤å†³å®šã€‚',
                'åˆ›ä¸š': 'ç»è¿‡é•¿æœŸå‡†å¤‡ï¼Œæˆ‘å†³å®šå¼€å§‹è‡ªå·±çš„åˆ›ä¸šä¹‹è·¯ã€‚',
                'ç»§ç»­æ·±é€ ': 'æˆ‘å†³å®šç»§ç»­æ·±é€ å­¦ä¹ ï¼Œæå‡ä¸ªäººä¸“ä¸šèƒ½åŠ›ã€‚',
                'ä¼‘æ¯è°ƒæ•´': 'ç»è¿‡ä¸€æ®µæ—¶é—´çš„å·¥ä½œï¼Œæˆ‘å¸Œæœ›æš‚æ—¶ä¼‘æ¯ï¼Œè°ƒæ•´çŠ¶æ€ã€‚'
            };
            return optimizedReasons[reason] || 'ç»è¿‡æ·±æ€ç†Ÿè™‘ï¼Œæˆ‘å†³å®šå¯»æ±‚æ–°çš„å‘å±•æœºä¼šã€‚';
        }

        function copyToClipboard() {
            const content = document.getElementById('letterContent').textContent;
            navigator.clipboard.writeText(content).then(() => {
                alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            });
        }

        function downloadTxt() {
            const content = document.getElementById('letterContent').textContent;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'è¾èŒä¿¡.txt';
            a.click();
            URL.revokeObjectURL(url);
        }

        function saveToHistory(name, style, content) {
            let history = JSON.parse(localStorage.getItem('resignationHistory') || '[]');
            history.unshift({
                name,
                style,
                content,
                date: new Date().toLocaleString()
            });
            history = history.slice(0, 10);
            localStorage.setItem('resignationHistory', JSON.stringify(history));
            renderHistory();
        }

        function renderHistory() {
            const history = JSON.parse(localStorage.getItem('resignationHistory') || '[]');
            const historySection = document.getElementById('historySection');
            const historyList = document.getElementById('historyList');

            if (history.length === 0) {
                historySection.style.display = 'none';
                return;
            }

            historySection.style.display = 'block';
            historyList.innerHTML = history.map((item, index) => `
                <div class="history-item" onclick="loadHistory(${index})">
                    <div>${item.name} - ${getStyleName(item.style)}</div>
                    <div class="date">${item.date}</div>
                </div>
            `).join('');
        }

        function getStyleName(style) {
            const names = { polite: 'ç¤¼è²Œç‰ˆ', humorous: 'å¹½é»˜ç‰ˆ', formal: 'æ­£å¼ç‰ˆ', emotional: 'æ„Ÿæ€§ç‰ˆ' };
            return names[style] || style;
        }

        function loadHistory(index) {
            const history = JSON.parse(localStorage.getItem('resignationHistory') || '[]');
            const item = history[index];
            if (item) {
                document.getElementById('letterContent').textContent = item.content;
                document.getElementById('result').classList.add('show');
            }
        }

        renderHistory();
    </script>
</body>
</html>
