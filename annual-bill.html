<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¹´åº¦è´¦å•ç”Ÿæˆå™¨ - Auto Tools</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Noto Sans SC', sans-serif; }
        body { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); min-height: 100vh; }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .gradient-bg-2 {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        .gradient-bg-3 {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .gradient-bg-4 {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }
        .gradient-bg-5 {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        .gradient-bg-6 {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }
        .gradient-bg-7 {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
        }
        .gradient-bg-8 {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }
        .card-preview {
            aspect-ratio: 9/16;
            max-height: 600px;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        .stat-bar {
            height: 8px;
            border-radius: 4px;
            background: rgba(255,255,255,0.3);
            overflow: hidden;
        }
        .stat-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-6xl mx-auto">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-white mb-2">ğŸ“Š å¹´åº¦è´¦å•ç”Ÿæˆå™¨</h1>
            <p class="text-gray-400">ç”Ÿæˆä½ çš„å¹´åº¦æ¶ˆè´¹è´¦å•ï¼Œåˆ†äº«åˆ°æœ‹å‹åœˆ</p>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
            <!-- Input Form -->
            <div class="bg-white/10 backdrop-blur rounded-2xl p-6">
                <h2 class="text-xl font-bold text-white mb-4">ğŸ“ å¡«å†™ä¿¡æ¯</h2>

                <!-- Nickname -->
                <div class="mb-4">
                    <label class="block text-gray-300 mb-2">æ˜µç§°</label>
                    <input type="text" id="nickname" placeholder="è¯·è¾“å…¥æ˜µç§°" class="w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder-gray-400 border border-white/10 focus:border-purple-500 focus:outline-none">
                </div>

                <!-- Year -->
                <div class="mb-4">
                    <label class="block text-gray-300 mb-2">å¹´ä»½</label>
                    <select id="year" class="w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/10 focus:border-purple-500 focus:outline-none">
                        <option value="2025" class="text-gray-900">2025</option>
                        <option value="2026" selected class="text-gray-900">2026</option>
                    </select>
                </div>

                <!-- Total Amount -->
                <div class="mb-4">
                    <label class="block text-gray-300 mb-2">å¹´åº¦æ€»æ¶ˆè´¹ (å…ƒ)</label>
                    <input type="number" id="totalAmount" placeholder="ä¾‹å¦‚: 50000" class="w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder-gray-400 border border-white/10 focus:border-purple-500 focus:outline-none">
                </div>

                <!-- Top Category -->
                <div class="mb-4">
                    <label class="block text-gray-300 mb-2">æ¶ˆè´¹æœ€å¤šçš„ç±»ç›®</label>
                    <select id="topCategory" class="w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/10 focus:border-purple-500 focus:outline-none">
                        <option value="é¤é¥®ç¾é£Ÿ" class="text-gray-900">é¤é¥®ç¾é£Ÿ</option>
                        <option value="è´­ç‰©æ¶ˆè´¹" class="text-gray-900">è´­ç‰©æ¶ˆè´¹</option>
                        <option value="äº¤é€šå‡ºè¡Œ" class="text-gray-900">äº¤é€šå‡ºè¡Œ</option>
                        <option value="ä½æˆ¿ç§Ÿèµ" class="text-gray-900">ä½æˆ¿ç§Ÿèµ</option>
                        <option value="å¨±ä¹ä¼‘é—²" class="text-gray-900">å¨±ä¹ä¼‘é—²</option>
                        <option value="å­¦ä¹ æå‡" class="text-gray-900">å­¦ä¹ æå‡</option>
                        <option value="åŒ»ç–—å¥åº·" class="text-gray-900">åŒ»ç–—å¥åº·</option>
                        <option value="ç¤¾äº¤ç¤¼é‡‘" class="text-gray-900">ç¤¾äº¤ç¤¼é‡‘</option>
                    </select>
                </div>

                <!-- Orders Count -->
                <div class="mb-4">
                    <label class="block text-gray-300 mb-2">ä¸‹å•ç¬”æ•°</label>
                    <input type="number" id="ordersCount" placeholder="ä¾‹å¦‚: 520" class="w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder-gray-400 border border-white/10 focus:border-purple-500 focus:outline-none">
                </div>

                <!-- Most Active Month -->
                <div class="mb-4">
                    <label class="block text-gray-300 mb-2">æ¶ˆè´¹æœ€å¤šçš„æœˆä»½</label>
                    <select id="topMonth" class="w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/10 focus:border-purple-500 focus:outline-none">
                        <option value="1æœˆ" class="text-gray-900">1æœˆ</option>
                        <option value="2æœˆ" class="text-gray-900">2æœˆ</option>
                        <option value="3æœˆ" class="text-gray-900">3æœˆ</option>
                        <option value="4æœˆ" class="text-gray-900">4æœˆ</option>
                        <option value="5æœˆ" class="text-gray-900">5æœˆ</option>
                        <option value="6æœˆ" class="text-gray-900">6æœˆ</option>
                        <option value="7æœˆ" class="text-gray-900">7æœˆ</option>
                        <option value="8æœˆ" class="text-gray-900">8æœˆ</option>
                        <option value="9æœˆ" class="text-gray-900">9æœˆ</option>
                        <option value="10æœˆ" class="text-gray-900">10æœˆ</option>
                        <option value="11æœˆ" class="text-gray-900">11æœˆ</option>
                        <option value="12æœˆ" class="text-gray-900">12æœˆ</option>
                    </select>
                </div>

                <!-- Word -->
                <div class="mb-4">
                    <label class="block text-gray-300 mb-2">å¹´åº¦å…³é”®è¯</label>
                    <input type="text" id="keyword" placeholder="ä¾‹å¦‚: æé’±ã€æˆé•¿ã€è„±å•" class="w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder-gray-400 border border-white/10 focus:border-purple-500 focus:outline-none">
                </div>

                <!-- Quote -->
                <div class="mb-6">
                    <label class="block text-gray-300 mb-2">å¹´åº¦æ€»ç»“è¯­</label>
                    <select id="quote" class="w-full px-4 py-3 rounded-lg bg-white/20 text-white border border-white/10 focus:border-purple-500 focus:outline-none">
                        <option value="åŠªåŠ›æé’±çš„ä¸€å¹´" class="text-gray-900">åŠªåŠ›æé’±çš„ä¸€å¹´</option>
                        <option value="æ”¶è·æ»¡æ»¡çš„ä¸€å¹´" class="text-gray-900">æ”¶è·æ»¡æ»¡çš„ä¸€å¹´</option>
                        <option value="ç»§ç»­åŠ æ²¹çš„ä¸€å¹´" class="text-gray-900">ç»§ç»­åŠ æ²¹çš„ä¸€å¹´</option>
                        <option value="å¹³æ·¡æ˜¯çœŸçš„ä¸€å¹´" class="text-gray-900">å¹³æ·¡æ˜¯çœŸçš„ä¸€å¹´</option>
                        <option value="æ¶ˆè´¹å‡çº§çš„ä¸€å¹´" class="text-gray-900">æ¶ˆè´¹å‡çº§çš„ä¸€å¹´</option>
                        <option value="äººé—´å€¼å¾—çš„ä¸€å¹´" class="text-gray-900">äººé—´å€¼å¾—çš„ä¸€å¹´</option>
                        <option value="æœªæ¥å¯æœŸçš„ä¸€å¹´" class="text-gray-900">æœªæ¥å¯æœŸçš„ä¸€å¹´</option>
                    </select>
                </div>

                <!-- Background Style -->
                <div class="mb-6">
                    <label class="block text-gray-300 mb-2">èƒŒæ™¯é£æ ¼</label>
                    <div class="grid grid-cols-4 gap-2">
                        <button onclick="setBg(1)" class="gradient-bg w-full h-12 rounded-lg border-2 border-transparent hover:border-white transition"></button>
                        <button onclick="setBg(2)" class="gradient-bg-2 w-full h-12 rounded-lg border-2 border-transparent hover:border-white transition"></button>
                        <button onclick="setBg(3)" class="gradient-bg-3 w-full h-12 rounded-lg border-2 border-transparent hover:border-white transition"></button>
                        <button onclick="setBg(4)" class="gradient-bg-4 w-full h-12 rounded-lg border-2 border-transparent hover:border-white transition"></button>
                        <button onclick="setBg(5)" class="gradient-bg-5 w-full h-12 rounded-lg border-2 border-transparent hover:border-white transition"></button>
                        <button onclick="setBg(6)" class="gradient-bg-6 w-full h-12 rounded-lg border-2 border-transparent hover:border-white transition"></button>
                        <button onclick="setBg(7)" class="gradient-bg-7 w-full h-12 rounded-lg border-2 border-transparent hover:border-white transition"></button>
                        <button onclick="setBg(8)" class="gradient-bg-8 w-full h-12 rounded-lg border-2 border-transparent hover:border-white transition"></button>
                    </div>
                </div>

                <!-- Generate Button -->
                <button onclick="generateBill()" class="w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold rounded-xl hover:from-purple-700 hover:to-pink-700 transition transform hover:scale-[1.02]">
                    âœ¨ ç”Ÿæˆå¹´åº¦è´¦å•
                </button>
            </div>

            <!-- Preview -->
            <div class="flex justify-center">
                <div id="billCard" class="card-preview gradient-bg w-full max-w-[320px] p-6 flex flex-col">
                    <!-- Header -->
                    <div class="text-center mb-4">
                        <div class="text-white/80 text-sm" id="previewYear">2026</div>
                        <div class="text-white text-2xl font-bold" id="previewNickname">ä½ çš„æ˜µç§°</div>
                        <div class="text-white/70 text-sm">å¹´åº¦æ¶ˆè´¹è´¦å•</div>
                    </div>

                    <!-- Total Amount -->
                    <div class="bg-white/20 rounded-2xl p-4 mb-4 text-center">
                        <div class="text-white/80 text-sm">å¹´åº¦æ€»æ¶ˆè´¹</div>
                        <div class="text-white text-4xl font-bold" id="previewAmount">0</div>
                        <div class="text-white/70 text-sm">å…ƒ</div>
                    </div>

                    <!-- Stats Grid -->
                    <div class="grid grid-cols-2 gap-3 mb-4">
                        <div class="bg-white/15 rounded-xl p-3 text-center">
                            <div class="text-white/70 text-xs">æ¶ˆè´¹ç±»ç›®</div>
                            <div class="text-white font-semibold text-sm" id="previewCategory">é¤é¥®ç¾é£Ÿ</div>
                        </div>
                        <div class="bg-white/15 rounded-xl p-3 text-center">
                            <div class="text-white/70 text-xs">ä¸‹å•ç¬”æ•°</div>
                            <div class="text-white font-semibold text-sm" id="previewOrders">0</div>
                        </div>
                    </div>

                    <!-- Top Month -->
                    <div class="bg-white/15 rounded-xl p-3 mb-4">
                        <div class="text-white/70 text-xs text-center mb-1">æ¶ˆè´¹æœ€å¤šçš„æœˆä»½</div>
                        <div class="text-white font-semibold text-center" id="previewMonth">1æœˆ</div>
                    </div>

                    <!-- Progress Bar -->
                    <div class="mb-4">
                        <div class="flex justify-between text-white/70 text-xs mb-1">
                            <span>å¹´åº¦æ¶ˆè´¹è¿›åº¦</span>
                            <span id="previewPercent">0%</span>
                        </div>
                        <div class="stat-bar">
                            <div class="stat-fill bg-white" id="previewBar" style="width: 0%"></div>
                        </div>
                    </div>

                    <!-- Keyword -->
                    <div class="text-center mb-4">
                        <div class="inline-block bg-white/20 px-4 py-1 rounded-full">
                            <span class="text-white" id="previewKeyword">åŠ æ²¹</span>
                        </div>
                    </div>

                    <!-- Quote -->
                    <div class="text-center mt-auto">
                        <div class="text-white/80 text-sm italic" id="previewQuote">åŠªåŠ›æé’±çš„ä¸€å¹´</div>
                    </div>

                    <!-- Watermark -->
                    <div class="text-center mt-3">
                        <div class="text-white/40 text-xs">æ¥è‡ª Auto Tools</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex justify-center gap-4 mt-8">
            <button onclick="downloadImage()" class="px-8 py-3 bg-white/20 text-white rounded-xl hover:bg-white/30 transition flex items-center gap-2">
                <span>ğŸ“¥</span> ä¸‹è½½å›¾ç‰‡
            </button>
            <button onclick="copyImage()" class="px-8 py-3 bg-white/20 text-white rounded-xl hover:bg-white/30 transition flex items-center gap-2">
                <span>ğŸ“‹</span> å¤åˆ¶åˆ°å‰ªè´´æ¿
            </button>
        </div>

        <!-- Tips -->
        <div class="text-center mt-6 text-gray-400 text-sm">
            <p>ğŸ’¡ æç¤ºï¼šç”Ÿæˆåå¯ä»¥ä¸‹è½½æˆ–å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œåˆ†äº«åˆ°æœ‹å‹åœˆ</p>
        </div>
    </div>

    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script>
        let currentBg = 1;

        const bgClasses = [
            'gradient-bg',
            'gradient-bg-2',
            'gradient-bg-3',
            'gradient-bg-4',
            'gradient-bg-5',
            'gradient-bg-6',
            'gradient-bg-7',
            'gradient-bg-8'
        ];

        function setBg(num) {
            currentBg = num;
            const card = document.getElementById('billCard');
            bgClasses.forEach((cls, i) => {
                card.classList.remove(cls);
            });
            card.classList.add(bgClasses[num - 1]);
        }

        function generateBill() {
            const nickname = document.getElementById('nickname').value || 'ä½ çš„æ˜µç§°';
            const year = document.getElementById('year').value;
            const totalAmount = document.getElementById('totalAmount').value || '0';
            const topCategory = document.getElementById('topCategory').value;
            const ordersCount = document.getElementById('ordersCount').value || '0';
            const topMonth = document.getElementById('topMonth').value;
            const keyword = document.getElementById('keyword').value || 'åŠ æ²¹';
            const quote = document.getElementById('quote').value;

            document.getElementById('previewNickname').textContent = nickname;
            document.getElementById('previewYear').textContent = year;
            document.getElementById('previewAmount').textContent = parseInt(totalAmount).toLocaleString();
            document.getElementById('previewCategory').textContent = topCategory;
            document.getElementById('previewOrders').textContent = parseInt(ordersCount).toLocaleString();
            document.getElementById('previewMonth').textContent = topMonth;
            document.getElementById('previewKeyword').textContent = keyword;
            document.getElementById('previewQuote').textContent = quote;

            // Calculate percentage (assume 100000 as 100%)
            const percent = Math.min(100, Math.round(parseInt(totalAmount) / 1000));
            document.getElementById('previewPercent').textContent = percent + '%';
            document.getElementById('previewBar').style.width = percent + '%';
        }

        function downloadImage() {
            const card = document.getElementById('billCard');
            html2canvas(card, {
                scale: 2,
                backgroundColor: null,
                useCORS: true
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'å¹´åº¦è´¦å•.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            });
        }

        function copyImage() {
            const card = document.getElementById('billCard');
            html2canvas(card, {
                scale: 2,
                backgroundColor: null,
                useCORS: true
            }).then(canvas => {
                canvas.toBlob(blob => {
                    navigator.clipboard.write([new ClipboardItem({ 'image/png': blob })]).then(() => {
                        alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                    }).catch(() => {
                        alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨æˆªå›¾');
                    });
                });
            });
        }

        // Generate initial preview
        generateBill();
    </script>
</body>
</html>
